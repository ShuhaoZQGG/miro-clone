
> miro-clone@0.1.0 test
> jest

FAIL src/__tests__/canvas-engine.test.ts
  ● CanvasEngine › Camera Controls - Pan › should pan to absolute position

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

       96 |       // Trigger the scheduled render
       97 |       rafMock.step()
    >  98 |       expect(mockCanvas.renderAll).toHaveBeenCalled()
          |                                    ^
       99 |     })
      100 |
      101 |     it('should pan by relative offset', () => {

      at Object.toHaveBeenCalled (src/__tests__/canvas-engine.test.ts:98:36)

  ● CanvasEngine › Camera Controls - Pan › should pan by relative offset

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

      115 |       // Trigger the scheduled render
      116 |       rafMock.step()
    > 117 |       expect(mockCanvas.renderAll).toHaveBeenCalled()
          |                                    ^
      118 |     })
      119 |
      120 |     it('should smoothly animate pan to position', async () => {

      at Object.toHaveBeenCalled (src/__tests__/canvas-engine.test.ts:117:36)

  ● CanvasEngine › Camera Controls - Zoom › should zoom to specific level

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

      176 |       // Trigger the scheduled render
      177 |       rafMock.step()
    > 178 |       expect(mockCanvas.renderAll).toHaveBeenCalled()
          |                                    ^
      179 |       expect(canvasEngine.getCamera().zoom).toBe(1.5)
      180 |     })
      181 |

      at Object.toHaveBeenCalled (src/__tests__/canvas-engine.test.ts:178:36)

  ● CanvasEngine › Performance Optimization › should throttle render calls during rapid interactions

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

    Expected number of calls: 1
    Received number of calls: 0

      423 |       
      424 |       // Should throttle to avoid excessive renders (one per frame)
    > 425 |       expect(mockCanvas.renderAll).toHaveBeenCalledTimes(1)
          |                                    ^
      426 |     })
      427 |
      428 |     it('should maintain 60fps during smooth animations', async () => {

      at Object.toHaveBeenCalledTimes (src/__tests__/canvas-engine.test.ts:425:36)

FAIL src/__tests__/canvas-disposal.test.tsx
  ● Console

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:73:33)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-disposal.test.tsx:73:33)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      71 |   describe('DOM Safety', () => {
      72 |     it('should handle disposal when DOM elements are already removed', async () => {
    > 73 |       const { unmount } = render(<Whiteboard boardId="test-board" />)
         |                                 ^
      74 |       
      75 |       await waitFor(() => {
      76 |         expect(mockCanvasEngine.dispose).toBeDefined()

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:73:33)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:73:33)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-disposal.test.tsx:73:33)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      71 |   describe('DOM Safety', () => {
      72 |     it('should handle disposal when DOM elements are already removed', async () => {
    > 73 |       const { unmount } = render(<Whiteboard boardId="test-board" />)
         |                                 ^
      74 |       
      75 |       await waitFor(() => {
      76 |         expect(mockCanvasEngine.dispose).toBeDefined()

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:73:33)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      71 |   describe('DOM Safety', () => {
      72 |     it('should handle disposal when DOM elements are already removed', async () => {
    > 73 |       const { unmount } = render(<Whiteboard boardId="test-board" />)
         |                                 ^
      74 |       
      75 |       await waitFor(() => {
      76 |         expect(mockCanvasEngine.dispose).toBeDefined()

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:73:33)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:92:33)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-disposal.test.tsx:92:33)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      90 |
      91 |     it('should not throw when parent node is null during disposal', async () => {
    > 92 |       const { unmount } = render(<Whiteboard boardId="test-board" />)
         |                                 ^
      93 |       
      94 |       await waitFor(() => {
      95 |         expect(mockCanvasEngine.dispose).toBeDefined()

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:92:33)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:92:33)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-disposal.test.tsx:92:33)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      90 |
      91 |     it('should not throw when parent node is null during disposal', async () => {
    > 92 |       const { unmount } = render(<Whiteboard boardId="test-board" />)
         |                                 ^
      93 |       
      94 |       await waitFor(() => {
      95 |         expect(mockCanvasEngine.dispose).toBeDefined()

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:92:33)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      90 |
      91 |     it('should not throw when parent node is null during disposal', async () => {
    > 92 |       const { unmount } = render(<Whiteboard boardId="test-board" />)
         |                                 ^
      93 |       
      94 |       await waitFor(() => {
      95 |         expect(mockCanvasEngine.dispose).toBeDefined()

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:92:33)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:116:43)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-disposal.test.tsx:116:43)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      114 |   describe('Refresh Loop Prevention', () => {
      115 |     it('should not re-initialize canvas after disposal', async () => {
    > 116 |       const { unmount, rerender } = render(<Whiteboard boardId="test-board" />)
          |                                           ^
      117 |       
      118 |       await waitFor(() => {
      119 |         expect(initCallCount).toBe(1)

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:116:43)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:116:43)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-disposal.test.tsx:116:43)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      114 |   describe('Refresh Loop Prevention', () => {
      115 |     it('should not re-initialize canvas after disposal', async () => {
    > 116 |       const { unmount, rerender } = render(<Whiteboard boardId="test-board" />)
          |                                           ^
      117 |       
      118 |       await waitFor(() => {
      119 |         expect(initCallCount).toBe(1)

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:116:43)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      114 |   describe('Refresh Loop Prevention', () => {
      115 |     it('should not re-initialize canvas after disposal', async () => {
    > 116 |       const { unmount, rerender } = render(<Whiteboard boardId="test-board" />)
          |                                           ^
      117 |       
      118 |       await waitFor(() => {
      119 |         expect(initCallCount).toBe(1)

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:116:43)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:138:43)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-disposal.test.tsx:138:43)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      136 |
      137 |     it('should prevent initialization loop on rapid mount/unmount', async () => {
    > 138 |       const { unmount: unmount1 } = render(<Whiteboard boardId="test-board-1" />)
          |                                           ^
      139 |       
      140 |       await waitFor(() => {
      141 |         expect(initCallCount).toBe(1)

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:138:43)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:138:43)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-disposal.test.tsx:138:43)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      136 |
      137 |     it('should prevent initialization loop on rapid mount/unmount', async () => {
    > 138 |       const { unmount: unmount1 } = render(<Whiteboard boardId="test-board-1" />)
          |                                           ^
      139 |       
      140 |       await waitFor(() => {
      141 |         expect(initCallCount).toBe(1)

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:138:43)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      136 |
      137 |     it('should prevent initialization loop on rapid mount/unmount', async () => {
    > 138 |       const { unmount: unmount1 } = render(<Whiteboard boardId="test-board-1" />)
          |                                           ^
      139 |       
      140 |       await waitFor(() => {
      141 |         expect(initCallCount).toBe(1)

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:138:43)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:167:34)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-disposal.test.tsx:167:34)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      165 |       }
      166 |
    > 167 |       const { rerender } = render(<TestComponent />)
          |                                  ^
      168 |       
      169 |       await waitFor(() => {
      170 |         expect(initCallCount).toBe(1)

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:167:34)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:167:34)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-disposal.test.tsx:167:34)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      165 |       }
      166 |
    > 167 |       const { rerender } = render(<TestComponent />)
          |                                  ^
      168 |       
      169 |       await waitFor(() => {
      170 |         expect(initCallCount).toBe(1)

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:167:34)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
          at TestComponent
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      165 |       }
      166 |
    > 167 |       const { rerender } = render(<TestComponent />)
          |                                  ^
      168 |       
      169 |       await waitFor(() => {
      170 |         expect(initCallCount).toBe(1)

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:167:34)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:193:33)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-disposal.test.tsx:193:33)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      191 |       // Canvas initialization is handled internally
      192 |
    > 193 |       const { unmount } = render(<Whiteboard boardId="test-board" />)
          |                                 ^
      194 |       
      195 |       // Unmount before initialization completes
      196 |       unmount()

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:193:33)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:193:33)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-disposal.test.tsx:193:33)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      191 |       // Canvas initialization is handled internally
      192 |
    > 193 |       const { unmount } = render(<Whiteboard boardId="test-board" />)
          |                                 ^
      194 |       
      195 |       // Unmount before initialization completes
      196 |       unmount()

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:193:33)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      191 |       // Canvas initialization is handled internally
      192 |
    > 193 |       const { unmount } = render(<Whiteboard boardId="test-board" />)
          |                                 ^
      194 |       
      195 |       // Unmount before initialization completes
      196 |       unmount()

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:193:33)

  ● Canvas Disposal Safety › DOM Safety › should handle disposal when DOM elements are already removed

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:73:33)

  ● Canvas Disposal Safety › DOM Safety › should not throw when parent node is null during disposal

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:92:33)

  ● Canvas Disposal Safety › Refresh Loop Prevention › should not re-initialize canvas after disposal

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:116:43)

  ● Canvas Disposal Safety › Refresh Loop Prevention › should prevent initialization loop on rapid mount/unmount

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:138:43)

  ● Canvas Disposal Safety › Refresh Loop Prevention › should use stable refs to prevent unnecessary re-renders

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:167:34)

  ● Canvas Disposal Safety › Disposal Token Pattern › should cancel initialization if component unmounts during init

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:193:33)

FAIL src/components/__tests__/Whiteboard.test.tsx
  ● Console

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:116:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/components/__tests__/Whiteboard.test.tsx:116:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      114 |   describe('Full-Screen Canvas Layout', () => {
      115 |     it('should render canvas container with full viewport dimensions', () => {
    > 116 |       const { container } = render(
          |                                   ^
      117 |         <Whiteboard
      118 |           boardId="test-board"
      119 |         />

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:116:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:116:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/components/__tests__/Whiteboard.test.tsx:116:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      114 |   describe('Full-Screen Canvas Layout', () => {
      115 |     it('should render canvas container with full viewport dimensions', () => {
    > 116 |       const { container } = render(
          |                                   ^
      117 |         <Whiteboard
      118 |           boardId="test-board"
      119 |         />

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:116:35)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      114 |   describe('Full-Screen Canvas Layout', () => {
      115 |     it('should render canvas container with full viewport dimensions', () => {
    > 116 |       const { container } = render(
          |                                   ^
      117 |         <Whiteboard
      118 |           boardId="test-board"
      119 |         />

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:116:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:136:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/components/__tests__/Whiteboard.test.tsx:136:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      134 |
      135 |     it('should apply fixed positioning with inset-0', () => {
    > 136 |       const { container } = render(
          |                                   ^
      137 |         <Whiteboard
      138 |           boardId="test-board"
      139 |         />

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:136:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:136:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/components/__tests__/Whiteboard.test.tsx:136:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      134 |
      135 |     it('should apply fixed positioning with inset-0', () => {
    > 136 |       const { container } = render(
          |                                   ^
      137 |         <Whiteboard
      138 |           boardId="test-board"
      139 |         />

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:136:35)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      134 |
      135 |     it('should apply fixed positioning with inset-0', () => {
    > 136 |       const { container } = render(
          |                                   ^
      137 |         <Whiteboard
      138 |           boardId="test-board"
      139 |         />

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:136:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:154:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/components/__tests__/Whiteboard.test.tsx:154:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      152 |
      153 |     it('should have no gaps or margins around canvas', () => {
    > 154 |       const { container } = render(
          |                                   ^
      155 |         <Whiteboard
      156 |           boardId="test-board"
      157 |         />

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:154:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:154:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/components/__tests__/Whiteboard.test.tsx:154:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      152 |
      153 |     it('should have no gaps or margins around canvas', () => {
    > 154 |       const { container } = render(
          |                                   ^
      155 |         <Whiteboard
      156 |           boardId="test-board"
      157 |         />

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:154:35)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      152 |
      153 |     it('should have no gaps or margins around canvas', () => {
    > 154 |       const { container } = render(
          |                                   ^
      155 |         <Whiteboard
      156 |           boardId="test-board"
      157 |         />

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:154:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:168:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/components/__tests__/Whiteboard.test.tsx:168:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      166 |
      167 |     it('should fill 100% of viewport width and height', () => {
    > 168 |       const { container } = render(
          |                                   ^
      169 |         <Whiteboard
      170 |           boardId="test-board"
      171 |         />

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:168:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:168:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/components/__tests__/Whiteboard.test.tsx:168:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      166 |
      167 |     it('should fill 100% of viewport width and height', () => {
    > 168 |       const { container } = render(
          |                                   ^
      169 |         <Whiteboard
      170 |           boardId="test-board"
      171 |         />

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:168:35)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      166 |
      167 |     it('should fill 100% of viewport width and height', () => {
    > 168 |       const { container } = render(
          |                                   ^
      169 |         <Whiteboard
      170 |           boardId="test-board"
      171 |         />

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:168:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:182:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/components/__tests__/Whiteboard.test.tsx:182:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      180 |
      181 |     it('should have correct z-index layering', () => {
    > 182 |       const { container } = render(
          |                                   ^
      183 |         <Whiteboard
      184 |           boardId="test-board"
      185 |         />

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:182:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:182:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/components/__tests__/Whiteboard.test.tsx:182:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      180 |
      181 |     it('should have correct z-index layering', () => {
    > 182 |       const { container } = render(
          |                                   ^
      183 |         <Whiteboard
      184 |           boardId="test-board"
      185 |         />

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:182:35)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      180 |
      181 |     it('should have correct z-index layering', () => {
    > 182 |       const { container } = render(
          |                                   ^
      183 |         <Whiteboard
      184 |           boardId="test-board"
      185 |         />

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:182:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:201:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/components/__tests__/Whiteboard.test.tsx:201:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      199 |   describe('Responsive Behavior', () => {
      200 |     it('should adapt to viewport size changes', async () => {
    > 201 |       const { container } = render(
          |                                   ^
      202 |         <Whiteboard
      203 |           boardId="test-board"
      204 |         />

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:201:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:201:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/components/__tests__/Whiteboard.test.tsx:201:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      199 |   describe('Responsive Behavior', () => {
      200 |     it('should adapt to viewport size changes', async () => {
    > 201 |       const { container } = render(
          |                                   ^
      202 |         <Whiteboard
      203 |           boardId="test-board"
      204 |         />

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:201:35)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      199 |   describe('Responsive Behavior', () => {
      200 |     it('should adapt to viewport size changes', async () => {
    > 201 |       const { container } = render(
          |                                   ^
      202 |         <Whiteboard
      203 |           boardId="test-board"
      204 |         />

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:201:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:227:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/components/__tests__/Whiteboard.test.tsx:227:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      225 |
      226 |     it('should maintain full-screen on orientation change', async () => {
    > 227 |       const { container } = render(
          |                                   ^
      228 |         <Whiteboard
      229 |           boardId="test-board"
      230 |         />

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:227:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:227:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/components/__tests__/Whiteboard.test.tsx:227:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      225 |
      226 |     it('should maintain full-screen on orientation change', async () => {
    > 227 |       const { container } = render(
          |                                   ^
      228 |         <Whiteboard
      229 |           boardId="test-board"
      230 |         />

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:227:35)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      225 |
      226 |     it('should maintain full-screen on orientation change', async () => {
    > 227 |       const { container } = render(
          |                                   ^
      228 |         <Whiteboard
      229 |           boardId="test-board"
      230 |         />

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:227:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:263:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/components/__tests__/Whiteboard.test.tsx:263:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      261 |   describe('Canvas Performance', () => {
      262 |     it('should enable GPU acceleration styles', () => {
    > 263 |       const { container } = render(
          |                                   ^
      264 |         <Whiteboard
      265 |           boardId="test-board"
      266 |         />

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:263:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:263:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/components/__tests__/Whiteboard.test.tsx:263:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      261 |   describe('Canvas Performance', () => {
      262 |     it('should enable GPU acceleration styles', () => {
    > 263 |       const { container } = render(
          |                                   ^
      264 |         <Whiteboard
      265 |           boardId="test-board"
      266 |         />

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:263:35)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      261 |   describe('Canvas Performance', () => {
      262 |     it('should enable GPU acceleration styles', () => {
    > 263 |       const { container } = render(
          |                                   ^
      264 |         <Whiteboard
      265 |           boardId="test-board"
      266 |         />

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:263:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:278:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/components/__tests__/Whiteboard.test.tsx:278:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      276 |
      277 |     it('should use hardware acceleration hints', () => {
    > 278 |       const { container } = render(
          |                                   ^
      279 |         <Whiteboard
      280 |           boardId="test-board"
      281 |         />

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:278:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:278:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/components/__tests__/Whiteboard.test.tsx:278:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      276 |
      277 |     it('should use hardware acceleration hints', () => {
    > 278 |       const { container } = render(
          |                                   ^
      279 |         <Whiteboard
      280 |           boardId="test-board"
      281 |         />

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:278:35)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      276 |
      277 |     it('should use hardware acceleration hints', () => {
    > 278 |       const { container } = render(
          |                                   ^
      279 |         <Whiteboard
      280 |           boardId="test-board"
      281 |         />

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:278:35)

  ● Whiteboard Full-Screen Tests › Full-Screen Canvas Layout › should render canvas container with full viewport dimensions

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:116:35)

  ● Whiteboard Full-Screen Tests › Full-Screen Canvas Layout › should apply fixed positioning with inset-0

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:136:35)

  ● Whiteboard Full-Screen Tests › Full-Screen Canvas Layout › should have no gaps or margins around canvas

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:154:35)

  ● Whiteboard Full-Screen Tests › Full-Screen Canvas Layout › should fill 100% of viewport width and height

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:168:35)

  ● Whiteboard Full-Screen Tests › Full-Screen Canvas Layout › should have correct z-index layering

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:182:35)

  ● Whiteboard Full-Screen Tests › Responsive Behavior › should adapt to viewport size changes

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:201:35)

  ● Whiteboard Full-Screen Tests › Responsive Behavior › should maintain full-screen on orientation change

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:227:35)

  ● Whiteboard Full-Screen Tests › Canvas Performance › should enable GPU acceleration styles

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:263:35)

  ● Whiteboard Full-Screen Tests › Canvas Performance › should use hardware acceleration hints

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:278:35)

PASS src/components/__tests__/PerformanceMetrics.test.tsx
FAIL src/__tests__/canvas-fullscreen.test.tsx
  ● Console

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:79:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:79:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      77 |   describe('Canvas Container Positioning', () => {
      78 |     it('should render canvas with fixed positioning', () => {
    > 79 |       const { container } = render(<Whiteboard boardId="test-board" />)
         |                                   ^
      80 |       const canvasContainer = container.querySelector('.canvas-container')
      81 |       
      82 |       expect(canvasContainer).toBeInTheDocument()

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:79:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:79:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:79:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      77 |   describe('Canvas Container Positioning', () => {
      78 |     it('should render canvas with fixed positioning', () => {
    > 79 |       const { container } = render(<Whiteboard boardId="test-board" />)
         |                                   ^
      80 |       const canvasContainer = container.querySelector('.canvas-container')
      81 |       
      82 |       expect(canvasContainer).toBeInTheDocument()

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:79:35)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      77 |   describe('Canvas Container Positioning', () => {
      78 |     it('should render canvas with fixed positioning', () => {
    > 79 |       const { container } = render(<Whiteboard boardId="test-board" />)
         |                                   ^
      80 |       const canvasContainer = container.querySelector('.canvas-container')
      81 |       
      82 |       expect(canvasContainer).toBeInTheDocument()

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:79:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:88:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:88:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      86 |
      87 |     it('should have inset-0 positioning (top, right, bottom, left all 0)', () => {
    > 88 |       const { container } = render(<Whiteboard boardId="test-board" />)
         |                                   ^
      89 |       const canvasContainer = container.querySelector('.canvas-container')
      90 |       
      91 |       const styles = window.getComputedStyle(canvasContainer!)

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:88:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:88:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:88:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      86 |
      87 |     it('should have inset-0 positioning (top, right, bottom, left all 0)', () => {
    > 88 |       const { container } = render(<Whiteboard boardId="test-board" />)
         |                                   ^
      89 |       const canvasContainer = container.querySelector('.canvas-container')
      90 |       
      91 |       const styles = window.getComputedStyle(canvasContainer!)

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:88:35)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      86 |
      87 |     it('should have inset-0 positioning (top, right, bottom, left all 0)', () => {
    > 88 |       const { container } = render(<Whiteboard boardId="test-board" />)
         |                                   ^
      89 |       const canvasContainer = container.querySelector('.canvas-container')
      90 |       
      91 |       const styles = window.getComputedStyle(canvasContainer!)

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:88:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:99:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:99:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

       97 |
       98 |     it('should have 100% width and height', () => {
    >  99 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      100 |       const canvasContainer = container.querySelector('.canvas-container')
      101 |       
      102 |       const styles = window.getComputedStyle(canvasContainer!)

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:99:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:99:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:99:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

       97 |
       98 |     it('should have 100% width and height', () => {
    >  99 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      100 |       const canvasContainer = container.querySelector('.canvas-container')
      101 |       
      102 |       const styles = window.getComputedStyle(canvasContainer!)

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:99:35)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

       97 |
       98 |     it('should have 100% width and height', () => {
    >  99 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      100 |       const canvasContainer = container.querySelector('.canvas-container')
      101 |       
      102 |       const styles = window.getComputedStyle(canvasContainer!)

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:99:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:108:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:108:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      106 |
      107 |     it('should have no margin or padding', () => {
    > 108 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      109 |       const canvasContainer = container.querySelector('.canvas-container')
      110 |       
      111 |       const styles = window.getComputedStyle(canvasContainer!)

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:108:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:108:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:108:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      106 |
      107 |     it('should have no margin or padding', () => {
    > 108 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      109 |       const canvasContainer = container.querySelector('.canvas-container')
      110 |       
      111 |       const styles = window.getComputedStyle(canvasContainer!)

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:108:35)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      106 |
      107 |     it('should have no margin or padding', () => {
    > 108 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      109 |       const canvasContainer = container.querySelector('.canvas-container')
      110 |       
      111 |       const styles = window.getComputedStyle(canvasContainer!)

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:108:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:119:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:119:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      117 |   describe('Viewport Coverage', () => {
      118 |     it('should fill entire viewport without gaps', () => {
    > 119 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      120 |       const canvasContainer = container.querySelector('.canvas-container')
      121 |       
      122 |       // Check that canvas container fills viewport

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:119:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:119:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:119:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      117 |   describe('Viewport Coverage', () => {
      118 |     it('should fill entire viewport without gaps', () => {
    > 119 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      120 |       const canvasContainer = container.querySelector('.canvas-container')
      121 |       
      122 |       // Check that canvas container fills viewport

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:119:35)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      117 |   describe('Viewport Coverage', () => {
      118 |     it('should fill entire viewport without gaps', () => {
    > 119 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      120 |       const canvasContainer = container.querySelector('.canvas-container')
      121 |       
      122 |       // Check that canvas container fills viewport

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:119:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:131:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:131:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      129 |
      130 |     it('should have proper z-index layering', () => {
    > 131 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      132 |       const canvasContainer = container.querySelector('.canvas-container')
      133 |       
      134 |       const styles = window.getComputedStyle(canvasContainer!)

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:131:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:131:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:131:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      129 |
      130 |     it('should have proper z-index layering', () => {
    > 131 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      132 |       const canvasContainer = container.querySelector('.canvas-container')
      133 |       
      134 |       const styles = window.getComputedStyle(canvasContainer!)

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:131:35)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      129 |
      130 |     it('should have proper z-index layering', () => {
    > 131 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      132 |       const canvasContainer = container.querySelector('.canvas-container')
      133 |       
      134 |       const styles = window.getComputedStyle(canvasContainer!)

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:131:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:139:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:139:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      137 |
      138 |     it('should have GPU acceleration styles', () => {
    > 139 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      140 |       const canvasContainer = container.querySelector('.canvas-container')
      141 |       
      142 |       const styles = window.getComputedStyle(canvasContainer!)

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:139:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:139:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:139:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      137 |
      138 |     it('should have GPU acceleration styles', () => {
    > 139 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      140 |       const canvasContainer = container.querySelector('.canvas-container')
      141 |       
      142 |       const styles = window.getComputedStyle(canvasContainer!)

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:139:35)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      137 |
      138 |     it('should have GPU acceleration styles', () => {
    > 139 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      140 |       const canvasContainer = container.querySelector('.canvas-container')
      141 |       
      142 |       const styles = window.getComputedStyle(canvasContainer!)

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:139:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:150:13)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:150:13)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      148 |   describe('Responsive Behavior', () => {
      149 |     it('should handle window resize events', async () => {
    > 150 |       render(<Whiteboard boardId="test-board" />)
          |             ^
      151 |       
      152 |       // Simulate window resize
      153 |       await act(async () => {

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:150:13)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:150:13)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:150:13)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      148 |   describe('Responsive Behavior', () => {
      149 |     it('should handle window resize events', async () => {
    > 150 |       render(<Whiteboard boardId="test-board" />)
          |             ^
      151 |       
      152 |       // Simulate window resize
      153 |       await act(async () => {

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:150:13)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      148 |   describe('Responsive Behavior', () => {
      149 |     it('should handle window resize events', async () => {
    > 150 |       render(<Whiteboard boardId="test-board" />)
          |             ^
      151 |       
      152 |       // Simulate window resize
      153 |       await act(async () => {

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:150:13)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:167:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:167:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      165 |
      166 |     it('should maintain full coverage after resize', async () => {
    > 167 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      168 |       const canvasContainer = container.querySelector('.canvas-container')
      169 |       
      170 |       // Simulate resize

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:167:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:167:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:167:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      165 |
      166 |     it('should maintain full coverage after resize', async () => {
    > 167 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      168 |       const canvasContainer = container.querySelector('.canvas-container')
      169 |       
      170 |       // Simulate resize

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:167:35)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      165 |
      166 |     it('should maintain full coverage after resize', async () => {
    > 167 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      168 |       const canvasContainer = container.querySelector('.canvas-container')
      169 |       
      170 |       // Simulate resize

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:167:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:185:13)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:185:13)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      183 |
      184 |     it('should update canvas dimensions on container resize', async () => {
    > 185 |       render(<Whiteboard boardId="test-board" />)
          |             ^
      186 |       
      187 |       // Mock ResizeObserver
      188 |       const resizeCallback = jest.fn()

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:185:13)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:185:13)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:185:13)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      183 |
      184 |     it('should update canvas dimensions on container resize', async () => {
    > 185 |       render(<Whiteboard boardId="test-board" />)
          |             ^
      186 |       
      187 |       // Mock ResizeObserver
      188 |       const resizeCallback = jest.fn()

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:185:13)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      183 |
      184 |     it('should update canvas dimensions on container resize', async () => {
    > 185 |       render(<Whiteboard boardId="test-board" />)
          |             ^
      186 |       
      187 |       // Mock ResizeObserver
      188 |       const resizeCallback = jest.fn()

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:185:13)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:219:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:219:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      217 |   describe('Touch and Interaction Areas', () => {
      218 |     it('should have touch-none style for proper touch handling', () => {
    > 219 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      220 |       const canvasContainer = container.querySelector('.canvas-container')
      221 |       
      222 |       const styles = window.getComputedStyle(canvasContainer!)

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:219:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:219:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:219:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      217 |   describe('Touch and Interaction Areas', () => {
      218 |     it('should have touch-none style for proper touch handling', () => {
    > 219 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      220 |       const canvasContainer = container.querySelector('.canvas-container')
      221 |       
      222 |       const styles = window.getComputedStyle(canvasContainer!)

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:219:35)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      217 |   describe('Touch and Interaction Areas', () => {
      218 |     it('should have touch-none style for proper touch handling', () => {
    > 219 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      220 |       const canvasContainer = container.querySelector('.canvas-container')
      221 |       
      222 |       const styles = window.getComputedStyle(canvasContainer!)

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:219:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:227:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:227:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      225 |
      226 |     it('should prevent text selection on canvas', () => {
    > 227 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      228 |       const canvasContainer = container.querySelector('.canvas-container')
      229 |       
      230 |       expect(canvasContainer).toHaveClass('select-none')

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:227:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:227:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:227:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      225 |
      226 |     it('should prevent text selection on canvas', () => {
    > 227 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      228 |       const canvasContainer = container.querySelector('.canvas-container')
      229 |       
      230 |       expect(canvasContainer).toHaveClass('select-none')

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:227:35)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      225 |
      226 |     it('should prevent text selection on canvas', () => {
    > 227 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      228 |       const canvasContainer = container.querySelector('.canvas-container')
      229 |       
      230 |       expect(canvasContainer).toHaveClass('select-none')

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:227:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:234:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:234:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      232 |
      233 |     it('should have proper cursor styles', () => {
    > 234 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      235 |       const canvasContainer = container.querySelector('.canvas-container')
      236 |       
      237 |       expect(canvasContainer).toHaveClass('cursor-crosshair')

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:234:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:234:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:234:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      232 |
      233 |     it('should have proper cursor styles', () => {
    > 234 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      235 |       const canvasContainer = container.querySelector('.canvas-container')
      236 |       
      237 |       expect(canvasContainer).toHaveClass('cursor-crosshair')

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:234:35)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      232 |
      233 |     it('should have proper cursor styles', () => {
    > 234 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      235 |       const canvasContainer = container.querySelector('.canvas-container')
      236 |       
      237 |       expect(canvasContainer).toHaveClass('cursor-crosshair')

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:234:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:243:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:243:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      241 |   describe('Performance Optimizations', () => {
      242 |     it('should have will-change transform for smooth rendering', () => {
    > 243 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      244 |       const canvasContainer = container.querySelector('.canvas-container')
      245 |       
      246 |       const styles = window.getComputedStyle(canvasContainer!)

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:243:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:243:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:243:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      241 |   describe('Performance Optimizations', () => {
      242 |     it('should have will-change transform for smooth rendering', () => {
    > 243 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      244 |       const canvasContainer = container.querySelector('.canvas-container')
      245 |       
      246 |       const styles = window.getComputedStyle(canvasContainer!)

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:243:35)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      241 |   describe('Performance Optimizations', () => {
      242 |     it('should have will-change transform for smooth rendering', () => {
    > 243 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      244 |       const canvasContainer = container.querySelector('.canvas-container')
      245 |       
      246 |       const styles = window.getComputedStyle(canvasContainer!)

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:243:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:251:13)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:251:13)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      249 |
      250 |     it('should setup smooth rendering on initialization', async () => {
    > 251 |       render(<Whiteboard boardId="test-board" />)
          |             ^
      252 |       
      253 |       await waitFor(() => {
      254 |         // Check that the canvas is properly initialized

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:251:13)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:251:13)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:251:13)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      249 |
      250 |     it('should setup smooth rendering on initialization', async () => {
    > 251 |       render(<Whiteboard boardId="test-board" />)
          |             ^
      252 |       
      253 |       await waitFor(() => {
      254 |         // Check that the canvas is properly initialized

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:251:13)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      249 |
      250 |     it('should setup smooth rendering on initialization', async () => {
    > 251 |       render(<Whiteboard boardId="test-board" />)
          |             ^
      252 |       
      253 |       await waitFor(() => {
      254 |         // Check that the canvas is properly initialized

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:251:13)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:263:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:263:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      261 |   describe('Integration with UI Elements', () => {
      262 |     it('should position canvas below UI overlays', () => {
    > 263 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      264 |       const canvasContainer = container.querySelector('.canvas-container')
      265 |       
      266 |       const styles = window.getComputedStyle(canvasContainer!)

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:263:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:263:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:263:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      261 |   describe('Integration with UI Elements', () => {
      262 |     it('should position canvas below UI overlays', () => {
    > 263 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      264 |       const canvasContainer = container.querySelector('.canvas-container')
      265 |       
      266 |       const styles = window.getComputedStyle(canvasContainer!)

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:263:35)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      261 |   describe('Integration with UI Elements', () => {
      262 |     it('should position canvas below UI overlays', () => {
    > 263 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      264 |       const canvasContainer = container.querySelector('.canvas-container')
      265 |       
      266 |       const styles = window.getComputedStyle(canvasContainer!)

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:263:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:277:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:277:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      275 |
      276 |     it('should not overflow parent container', () => {
    > 277 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      278 |       const wrapper = container.firstChild as HTMLElement
      279 |       
      280 |       expect(wrapper).toHaveClass('overflow-hidden')

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:277:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:277:35)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:277:35)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      275 |
      276 |     it('should not overflow parent container', () => {
    > 277 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      278 |       const wrapper = container.firstChild as HTMLElement
      279 |       
      280 |       expect(wrapper).toHaveClass('overflow-hidden')

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:277:35)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      275 |
      276 |     it('should not overflow parent container', () => {
    > 277 |       const { container } = render(<Whiteboard boardId="test-board" />)
          |                                   ^
      278 |       const wrapper = container.firstChild as HTMLElement
      279 |       
      280 |       expect(wrapper).toHaveClass('overflow-hidden')

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:277:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:286:13)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:286:13)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      284 |   describe('Canvas Element Integration', () => {
      285 |     it('should create canvas element with proper dimensions', async () => {
    > 286 |       render(<Whiteboard boardId="test-board" />)
          |             ^
      287 |       
      288 |       await waitFor(() => {
      289 |         const mockCanvas = mockCanvasEngine.getCanvas()

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:286:13)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:286:13)
          at new Promise (<anonymous>) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/shuhaozhang/Project/miro-clone/src/context/AuthContext.tsx:28:11)
            at Whiteboard (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:25:44)
            at renderWithHooks (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/shuhaozhang/Project/miro-clone/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:180:26)
            at render (/Users/shuhaozhang/Project/miro-clone/node_modules/@testing-library/react/dist/pure.js:271:10)
            at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/canvas-fullscreen.test.tsx:286:13)
            at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
            at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
            at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      284 |   describe('Canvas Element Integration', () => {
      285 |     it('should create canvas element with proper dimensions', async () => {
    > 286 |       render(<Whiteboard boardId="test-board" />)
          |             ^
      287 |       
      288 |       await waitFor(() => {
      289 |         const mockCanvas = mockCanvasEngine.getCanvas()

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:286:13)

    console.error
      The above error occurred in the <Whiteboard> component:
      
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/components/Whiteboard.tsx:23:57)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      284 |   describe('Canvas Element Integration', () => {
      285 |     it('should create canvas element with proper dimensions', async () => {
    > 286 |       render(<Whiteboard boardId="test-board" />)
          |             ^
      287 |       
      288 |       await waitFor(() => {
      289 |         const mockCanvas = mockCanvasEngine.getCanvas()

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:286:13)

  ● Canvas Full-Screen Tests › Canvas Container Positioning › should render canvas with fixed positioning

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:79:35)

  ● Canvas Full-Screen Tests › Canvas Container Positioning › should have inset-0 positioning (top, right, bottom, left all 0)

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:88:35)

  ● Canvas Full-Screen Tests › Canvas Container Positioning › should have 100% width and height

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:99:35)

  ● Canvas Full-Screen Tests › Canvas Container Positioning › should have no margin or padding

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:108:35)

  ● Canvas Full-Screen Tests › Viewport Coverage › should fill entire viewport without gaps

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:119:35)

  ● Canvas Full-Screen Tests › Viewport Coverage › should have proper z-index layering

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:131:35)

  ● Canvas Full-Screen Tests › Viewport Coverage › should have GPU acceleration styles

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:139:35)

  ● Canvas Full-Screen Tests › Responsive Behavior › should handle window resize events

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:150:13)

  ● Canvas Full-Screen Tests › Responsive Behavior › should maintain full coverage after resize

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:167:35)

  ● Canvas Full-Screen Tests › Responsive Behavior › should update canvas dimensions on container resize

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:185:13)

  ● Canvas Full-Screen Tests › Touch and Interaction Areas › should have touch-none style for proper touch handling

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:219:35)

  ● Canvas Full-Screen Tests › Touch and Interaction Areas › should prevent text selection on canvas

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:227:35)

  ● Canvas Full-Screen Tests › Touch and Interaction Areas › should have proper cursor styles

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:234:35)

  ● Canvas Full-Screen Tests › Performance Optimizations › should have will-change transform for smooth rendering

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:243:35)

  ● Canvas Full-Screen Tests › Performance Optimizations › should setup smooth rendering on initialization

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:251:13)

  ● Canvas Full-Screen Tests › Integration with UI Elements › should position canvas below UI overlays

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:263:35)

  ● Canvas Full-Screen Tests › Integration with UI Elements › should not overflow parent container

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:277:35)

  ● Canvas Full-Screen Tests › Canvas Element Integration › should create canvas element with proper dimensions

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:286:13)

PASS src/components/__tests__/CollaborativeCursors.test.tsx
PASS src/__tests__/element-creation.test.ts
  ● Console

    console.warn
      Failed to create sticky note Fabric object: Error: Canvas add failed
          at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/src/__tests__/element-creation.test.ts:444:15)
          at /Users/shuhaozhang/Project/miro-clone/node_modules/jest-mock/build/index.js:397:39
          at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-mock/build/index.js:404:13)
          at Object.mockConstructor [as add] (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-mock/build/index.js:148:19)
          at ElementManager.add [as createStickyNoteFabricObject] (/Users/shuhaozhang/Project/miro-clone/src/lib/element-manager.ts:497:19)
          at ElementManager.createStickyNoteFabricObject [as createStickyNote] (/Users/shuhaozhang/Project/miro-clone/src/lib/element-manager.ts:122:10)
          at createStickyNote (/Users/shuhaozhang/Project/miro-clone/src/__tests__/element-creation.test.ts:448:24)
          at Object.<anonymous> (/Users/shuhaozhang/Project/miro-clone/node_modules/expect/build/toThrowMatchers.js:74:11)
          at Object.throwingMatcher [as toThrow] (/Users/shuhaozhang/Project/miro-clone/node_modules/expect/build/index.js:320:21)
          at Object.toThrow (/Users/shuhaozhang/Project/miro-clone/src/__tests__/element-creation.test.ts:449:14)
          at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
          at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
          at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12)

      499 |
      500 |     } catch (error) {
    > 501 |       console.warn('Failed to create sticky note Fabric object:', error)
          |               ^
      502 |     }
      503 |   }
      504 |

      at ElementManager.warn [as createStickyNoteFabricObject] (src/lib/element-manager.ts:501:15)
      at ElementManager.createStickyNoteFabricObject [as createStickyNote] (src/lib/element-manager.ts:122:10)
      at createStickyNote (src/__tests__/element-creation.test.ts:448:24)
      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)
      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)
      at Object.toThrow (src/__tests__/element-creation.test.ts:449:14)

    console.warn
      Failed to create image Fabric object: TypeError: _fabric.fabric.Image.fromURL is not a function
          at ElementManager.fromURL [as createImageFabricObject] (/Users/shuhaozhang/Project/miro-clone/src/lib/element-manager.ts:943:20)
          at ElementManager.createImageFabricObject [as createImage] (/Users/shuhaozhang/Project/miro-clone/src/lib/element-manager.ts:851:10)
          at Object.createImage (/Users/shuhaozhang/Project/miro-clone/src/__tests__/element-creation.test.ts:659:36)
          at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
          at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
          at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12)

      956 |       })
      957 |     } catch (error) {
    > 958 |       console.warn('Failed to create image Fabric object:', error)
          |               ^
      959 |     }
      960 |   }
      961 | }

      at ElementManager.warn [as createImageFabricObject] (src/lib/element-manager.ts:958:15)
      at ElementManager.createImageFabricObject [as createImage] (src/lib/element-manager.ts:851:10)
      at Object.createImage (src/__tests__/element-creation.test.ts:659:36)

    console.warn
      Failed to create image Fabric object: TypeError: _fabric.fabric.Image.fromURL is not a function
          at ElementManager.fromURL [as createImageFabricObject] (/Users/shuhaozhang/Project/miro-clone/src/lib/element-manager.ts:943:20)
          at ElementManager.createImageFabricObject [as createImage] (/Users/shuhaozhang/Project/miro-clone/src/lib/element-manager.ts:851:10)
          at Object.createImage (/Users/shuhaozhang/Project/miro-clone/src/__tests__/element-creation.test.ts:678:36)
          at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
          at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
          at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12)

      956 |       })
      957 |     } catch (error) {
    > 958 |       console.warn('Failed to create image Fabric object:', error)
          |               ^
      959 |     }
      960 |   }
      961 | }

      at ElementManager.warn [as createImageFabricObject] (src/lib/element-manager.ts:958:15)
      at ElementManager.createImageFabricObject [as createImage] (src/lib/element-manager.ts:851:10)
      at Object.createImage (src/__tests__/element-creation.test.ts:678:36)

    console.warn
      Failed to create image Fabric object: TypeError: _fabric.fabric.Image.fromURL is not a function
          at ElementManager.fromURL [as createImageFabricObject] (/Users/shuhaozhang/Project/miro-clone/src/lib/element-manager.ts:943:20)
          at ElementManager.createImageFabricObject [as createImage] (/Users/shuhaozhang/Project/miro-clone/src/lib/element-manager.ts:851:10)
          at Object.createImage (/Users/shuhaozhang/Project/miro-clone/src/__tests__/element-creation.test.ts:693:36)
          at Promise.then.completed (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
          at _runTestsForDescribeBlock (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:121:9)
          at run (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/Users/shuhaozhang/Project/miro-clone/node_modules/jest-runner/build/testWorker.js:106:12)

      956 |       })
      957 |     } catch (error) {
    > 958 |       console.warn('Failed to create image Fabric object:', error)
          |               ^
      959 |     }
      960 |   }
      961 | }

      at ElementManager.warn [as createImageFabricObject] (src/lib/element-manager.ts:958:15)
      at ElementManager.createImageFabricObject [as createImage] (src/lib/element-manager.ts:851:10)
      at Object.createImage (src/__tests__/element-creation.test.ts:693:36)

    console.warn
      Failed to create image Fabric object: TypeError: _fabric.fabric.Image.fromURL is not a function
          at ElementManager.fromURL [as createImageFabricObject] (/Users/shuhaozhang/Project/miro-clone/src/lib/element-manager.ts:943:20)
          at ElementManager.createImageFabricObject [as createImage] (/Users/shuhaozhang/Project/miro-clone/src/lib/element-manager.ts:851:10)
          at Object.createImage (/Users/shuhaozhang/Project/miro-clone/src/__tests__/element-creation.test.ts:731:22)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)

      956 |       })
      957 |     } catch (error) {
    > 958 |       console.warn('Failed to create image Fabric object:', error)
          |               ^
      959 |     }
      960 |   }
      961 | }

      at ElementManager.warn [as createImageFabricObject] (src/lib/element-manager.ts:958:15)
      at ElementManager.createImageFabricObject [as createImage] (src/lib/element-manager.ts:851:10)
      at Object.createImage (src/__tests__/element-creation.test.ts:731:22)

FAIL src/__tests__/integration/whiteboard-integration.test.tsx
  ● Console

    console.error
      Warning: An update to MockWhiteboard inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/__tests__/integration/whiteboard-integration.test.tsx:62:27)

      68 |     return (...args: any[]) => {
      69 |       method(...args)
    > 70 |       forceUpdate()
         |       ^
      71 |     }
      72 |   }
      73 |   

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchReducerAction (node_modules/react-dom/cjs/react-dom.development.js:16633:7)
      at forceUpdate (src/__tests__/integration/whiteboard-integration.test.tsx:70:7)
      at HTMLUnknownElement.callCallback (node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:43
      at Object.eventWrapper (node_modules/@testing-library/dom/dist/config.js:25:23)
      at Object.wrapEvent (node_modules/@testing-library/user-event/dist/cjs/event/wrapEvent.js:6:28)
      at Object.dispatchEvent (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:22)
      at Object.dispatchUIEvent (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:22:26)
      at Mouse.up (node_modules/@testing-library/user-event/dist/cjs/system/pointer/mouse.js:100:30)
      at PointerHost.release (node_modules/@testing-library/user-event/dist/cjs/system/pointer/index.js:87:24)
      at pointerAction (node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:54:47)
      at Object.pointer (node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:27:9)
      at Object.<anonymous> (src/__tests__/integration/whiteboard-integration.test.tsx:325:7)

    console.error
      Warning: An update to MockWhiteboard inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/__tests__/integration/whiteboard-integration.test.tsx:62:27)

      68 |     return (...args: any[]) => {
      69 |       method(...args)
    > 70 |       forceUpdate()
         |       ^
      71 |     }
      72 |   }
      73 |   

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchReducerAction (node_modules/react-dom/cjs/react-dom.development.js:16633:7)
      at forceUpdate (src/__tests__/integration/whiteboard-integration.test.tsx:70:7)
      at handleMouseDown (src/__tests__/integration/whiteboard-integration.test.tsx:106:34)
      at HTMLUnknownElement.callCallback (node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:43
      at Object.eventWrapper (node_modules/@testing-library/dom/dist/config.js:25:23)
      at Object.wrapEvent (node_modules/@testing-library/user-event/dist/cjs/event/wrapEvent.js:6:28)
      at Object.dispatchEvent (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:22)
      at Object.dispatchUIEvent (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:22:26)
      at Mouse.down (node_modules/@testing-library/user-event/dist/cjs/system/pointer/mouse.js:76:51)
      at PointerHost.press (node_modules/@testing-library/user-event/dist/cjs/system/pointer/index.js:40:24)
      at pointerAction (node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:51:43)
      at Object.pointer (node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:27:15)
      at Object.<anonymous> (src/__tests__/integration/whiteboard-integration.test.tsx:331:7)

    console.error
      Warning: An update to MockWhiteboard inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/__tests__/integration/whiteboard-integration.test.tsx:62:27)

      68 |     return (...args: any[]) => {
      69 |       method(...args)
    > 70 |       forceUpdate()
         |       ^
      71 |     }
      72 |   }
      73 |   

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchReducerAction (node_modules/react-dom/cjs/react-dom.development.js:16633:7)
      at forceUpdate (src/__tests__/integration/whiteboard-integration.test.tsx:70:7)
      at HTMLUnknownElement.callCallback (node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:43
      at Object.eventWrapper (node_modules/@testing-library/dom/dist/config.js:25:23)
      at Object.wrapEvent (node_modules/@testing-library/user-event/dist/cjs/event/wrapEvent.js:6:28)
      at Object.dispatchEvent (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:22)
      at Object.dispatchUIEvent (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:22:26)
      at Mouse.up (node_modules/@testing-library/user-event/dist/cjs/system/pointer/mouse.js:100:30)
      at PointerHost.release (node_modules/@testing-library/user-event/dist/cjs/system/pointer/index.js:87:24)
      at pointerAction (node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:54:47)
      at Object.pointer (node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:27:9)
      at Object.<anonymous> (src/__tests__/integration/whiteboard-integration.test.tsx:331:7)

    console.error
      Warning: An update to MockWhiteboard inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/__tests__/integration/whiteboard-integration.test.tsx:62:27)

      68 |     return (...args: any[]) => {
      69 |       method(...args)
    > 70 |       forceUpdate()
         |       ^
      71 |     }
      72 |   }
      73 |   

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchReducerAction (node_modules/react-dom/cjs/react-dom.development.js:16633:7)
      at forceUpdate (src/__tests__/integration/whiteboard-integration.test.tsx:70:7)
      at HTMLUnknownElement.callCallback (node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:43
      at Object.eventWrapper (node_modules/@testing-library/dom/dist/config.js:25:23)
      at Object.wrapEvent (node_modules/@testing-library/user-event/dist/cjs/event/wrapEvent.js:6:28)
      at Object.dispatchEvent (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:22)
      at Object.dispatchUIEvent (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:22:26)
      at Mouse.up (node_modules/@testing-library/user-event/dist/cjs/system/pointer/mouse.js:100:30)
      at PointerHost.release (node_modules/@testing-library/user-event/dist/cjs/system/pointer/index.js:87:24)
      at pointerAction (node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:54:47)
      at Object.pointer (node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:27:9)
      at Object.<anonymous> (src/__tests__/integration/whiteboard-integration.test.tsx:340:7)

    console.error
      Warning: An update to MockWhiteboard inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/__tests__/integration/whiteboard-integration.test.tsx:62:27)

      68 |     return (...args: any[]) => {
      69 |       method(...args)
    > 70 |       forceUpdate()
         |       ^
      71 |     }
      72 |   }
      73 |   

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchReducerAction (node_modules/react-dom/cjs/react-dom.development.js:16633:7)
      at forceUpdate (src/__tests__/integration/whiteboard-integration.test.tsx:70:7)
      at HTMLUnknownElement.callCallback (node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:43
      at Object.eventWrapper (node_modules/@testing-library/dom/dist/config.js:25:23)
      at Object.wrapEvent (node_modules/@testing-library/user-event/dist/cjs/event/wrapEvent.js:6:28)
      at Object.dispatchEvent (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:22)
      at Object.dispatchUIEvent (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:22:26)
      at Mouse.up (node_modules/@testing-library/user-event/dist/cjs/system/pointer/mouse.js:100:30)
      at PointerHost.release (node_modules/@testing-library/user-event/dist/cjs/system/pointer/index.js:87:24)
      at pointerAction (node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:54:47)
      at Object.pointer (node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:27:9)
      at Object.<anonymous> (src/__tests__/integration/whiteboard-integration.test.tsx:402:7)

    console.error
      Warning: An update to MockWhiteboard inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/__tests__/integration/whiteboard-integration.test.tsx:62:27)

      68 |     return (...args: any[]) => {
      69 |       method(...args)
    > 70 |       forceUpdate()
         |       ^
      71 |     }
      72 |   }
      73 |   

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchReducerAction (node_modules/react-dom/cjs/react-dom.development.js:16633:7)
      at forceUpdate (src/__tests__/integration/whiteboard-integration.test.tsx:70:7)
      at HTMLUnknownElement.callCallback (node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:43
      at Object.eventWrapper (node_modules/@testing-library/dom/dist/config.js:25:23)
      at Object.wrapEvent (node_modules/@testing-library/user-event/dist/cjs/event/wrapEvent.js:6:28)
      at Object.dispatchEvent (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:22)
      at Object.dispatchUIEvent (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:22:26)
      at Mouse.up (node_modules/@testing-library/user-event/dist/cjs/system/pointer/mouse.js:100:30)
      at PointerHost.release (node_modules/@testing-library/user-event/dist/cjs/system/pointer/index.js:87:24)
      at pointerAction (node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:54:47)
      at Object.pointer (node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:27:9)
      at Object.<anonymous> (src/__tests__/integration/whiteboard-integration.test.tsx:429:7)

    console.error
      Warning: An update to MockWhiteboard inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/__tests__/integration/whiteboard-integration.test.tsx:62:27)

      68 |     return (...args: any[]) => {
      69 |       method(...args)
    > 70 |       forceUpdate()
         |       ^
      71 |     }
      72 |   }
      73 |   

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchReducerAction (node_modules/react-dom/cjs/react-dom.development.js:16633:7)
      at forceUpdate (src/__tests__/integration/whiteboard-integration.test.tsx:70:7)
      at HTMLUnknownElement.callCallback (node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:43
      at Object.eventWrapper (node_modules/@testing-library/dom/dist/config.js:25:23)
      at Object.wrapEvent (node_modules/@testing-library/user-event/dist/cjs/event/wrapEvent.js:6:28)
      at Object.dispatchEvent (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:22)
      at Object.dispatchUIEvent (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:22:26)
      at Mouse.up (node_modules/@testing-library/user-event/dist/cjs/system/pointer/mouse.js:100:30)
      at PointerHost.release (node_modules/@testing-library/user-event/dist/cjs/system/pointer/index.js:87:24)
      at pointerAction (node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:54:47)
      at Object.pointer (node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:27:9)
      at Object.<anonymous> (src/__tests__/integration/whiteboard-integration.test.tsx:444:7)

    console.error
      Warning: An update to MockWhiteboard inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at boardId (/Users/shuhaozhang/Project/miro-clone/src/__tests__/integration/whiteboard-integration.test.tsx:62:27)

      68 |     return (...args: any[]) => {
      69 |       method(...args)
    > 70 |       forceUpdate()
         |       ^
      71 |     }
      72 |   }
      73 |   

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchReducerAction (node_modules/react-dom/cjs/react-dom.development.js:16633:7)
      at forceUpdate (src/__tests__/integration/whiteboard-integration.test.tsx:70:7)
      at HTMLUnknownElement.callCallback (node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:43
      at Object.eventWrapper (node_modules/@testing-library/dom/dist/config.js:25:23)
      at Object.wrapEvent (node_modules/@testing-library/user-event/dist/cjs/event/wrapEvent.js:6:28)
      at Object.dispatchEvent (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:22)
      at Object.dispatchUIEvent (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:22:26)
      at Mouse.up (node_modules/@testing-library/user-event/dist/cjs/system/pointer/mouse.js:100:30)
      at PointerHost.release (node_modules/@testing-library/user-event/dist/cjs/system/pointer/index.js:87:24)
      at pointerAction (node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:54:47)
      at Object.pointer (node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:27:9)
      at Object.<anonymous> (src/__tests__/integration/whiteboard-integration.test.tsx:459:7)

  ● Whiteboard Integration Tests › Keyboard Shortcuts › should respond to tool keyboard shortcuts

    TestingLibraryElementError: Found multiple elements with the role "generic"

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"whiteboard-container"[39m
        [33mrole[39m=[32m"generic"[39m
        [33mtabindex[39m=[32m"0"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"toolbar"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Zoom in"[39m
          [36m>[39m
            [0m+[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Zoom out"[39m
          [36m>[39m
            [0m-[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Reset zoom"[39m
          [36m>[39m
            [0m100%[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"tool-panel"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Select"[39m
            [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
          [36m>[39m
            [0mSelect[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Sticky Note"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mSticky Note[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Rectangle"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mRectangle[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Circle"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mCircle[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Text"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mText[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div>[39m
          [0mBoard: [0m
          [0mtest-board-123[0m
        [36m</div>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Toggle grid"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mGrid[0m
        [36m</button>[39m
        [36m<div[39m
          [33mclass[39m=[32m"connection-status bg-red-500"[39m
        [36m>[39m
          [0mDisconnected[0m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"whiteboard-container"[39m
      [33mrole[39m=[32m"generic"[39m
      [33mtabindex[39m=[32m"0"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"toolbar"[39m
      [36m>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Zoom in"[39m
        [36m>[39m
          [0m+[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Zoom out"[39m
        [36m>[39m
          [0m-[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Reset zoom"[39m
        [36m>[39m
          [0m100%[0m
        [36m</button>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"tool-panel"[39m
      [36m>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Select"[39m
          [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
        [36m>[39m
          [0mSelect[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Sticky Note"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mSticky Note[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Rectangle"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mRectangle[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Circle"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mCircle[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Text"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mText[0m
        [36m</button>[39m
      [36m</div>[39m
      [36m<div>[39m
        [0mBoard: [0m
        [0mtest-board-123[0m
      [36m</div>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Toggle grid"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mGrid[0m
      [36m</button>[39m
      [36m<div[39m
        [33mclass[39m=[32m"connection-status bg-red-500"[39m
      [36m>[39m
        [0mDisconnected[0m
      [36m</div>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"toolbar"[39m
    [36m>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Zoom in"[39m
      [36m>[39m
        [0m+[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Zoom out"[39m
      [36m>[39m
        [0m-[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Reset zoom"[39m
      [36m>[39m
        [0m100%[0m
      [36m</button>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"tool-panel"[39m
    [36m>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Select"[39m
        [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
      [36m>[39m
        [0mSelect[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Sticky Note"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mSticky Note[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Rectangle"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mRectangle[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Circle"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mCircle[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Text"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mText[0m
      [36m</button>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div>[39m
      [0mBoard: [0m
      [0mtest-board-123[0m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"connection-status bg-red-500"[39m
    [36m>[39m
      [0mDisconnected[0m
    [36m</div>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"whiteboard-container"[39m
          [33mrole[39m=[32m"generic"[39m
          [33mtabindex[39m=[32m"0"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"toolbar"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Zoom in"[39m
            [36m>[39m
              [0m+[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Zoom out"[39m
            [36m>[39m
              [0m-[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Reset zoom"[39m
            [36m>[39m
              [0m100%[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"tool-panel"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Select"[39m
              [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
            [36m>[39m
              [0mSelect[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Sticky Note"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mSticky Note[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Rectangle"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mRectangle[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Circle"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mCircle[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Text"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mText[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div>[39m
            [0mBoard: [0m
            [0mtest-board-123[0m
          [36m</div>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle grid"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mGrid[0m
          [36m</button>[39m
          [36m<div[39m
            [33mclass[39m=[32m"connection-status bg-red-500"[39m
          [36m>[39m
            [0mDisconnected[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      349 |       render(<Whiteboard boardId={mockBoardId} />)
      350 |
    > 351 |       const whiteboard = screen.getByRole('generic', { hidden: true }) // Canvas container
          |                                 ^
      352 |
      353 |       // Test sticky note shortcut
      354 |       whiteboard.focus()

      at Object.getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (src/__tests__/integration/whiteboard-integration.test.tsx:351:33)

  ● Whiteboard Integration Tests › Keyboard Shortcuts › should clear selection with escape key

    TestingLibraryElementError: Found multiple elements with the role "generic"

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"whiteboard-container"[39m
        [33mrole[39m=[32m"generic"[39m
        [33mtabindex[39m=[32m"0"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"toolbar"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Zoom in"[39m
          [36m>[39m
            [0m+[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Zoom out"[39m
          [36m>[39m
            [0m-[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Reset zoom"[39m
          [36m>[39m
            [0m100%[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"tool-panel"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Select"[39m
            [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
          [36m>[39m
            [0mSelect[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Sticky Note"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mSticky Note[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Rectangle"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mRectangle[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Circle"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mCircle[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Text"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mText[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div>[39m
          [0mBoard: [0m
          [0mtest-board-123[0m
        [36m</div>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Toggle grid"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mGrid[0m
        [36m</button>[39m
        [36m<div[39m
          [33mclass[39m=[32m"connection-status bg-red-500"[39m
        [36m>[39m
          [0mDisconnected[0m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"whiteboard-container"[39m
      [33mrole[39m=[32m"generic"[39m
      [33mtabindex[39m=[32m"0"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"toolbar"[39m
      [36m>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Zoom in"[39m
        [36m>[39m
          [0m+[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Zoom out"[39m
        [36m>[39m
          [0m-[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Reset zoom"[39m
        [36m>[39m
          [0m100%[0m
        [36m</button>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"tool-panel"[39m
      [36m>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Select"[39m
          [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
        [36m>[39m
          [0mSelect[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Sticky Note"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mSticky Note[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Rectangle"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mRectangle[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Circle"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mCircle[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Text"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mText[0m
        [36m</button>[39m
      [36m</div>[39m
      [36m<div>[39m
        [0mBoard: [0m
        [0mtest-board-123[0m
      [36m</div>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Toggle grid"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mGrid[0m
      [36m</button>[39m
      [36m<div[39m
        [33mclass[39m=[32m"connection-status bg-red-500"[39m
      [36m>[39m
        [0mDisconnected[0m
      [36m</div>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"toolbar"[39m
    [36m>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Zoom in"[39m
      [36m>[39m
        [0m+[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Zoom out"[39m
      [36m>[39m
        [0m-[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Reset zoom"[39m
      [36m>[39m
        [0m100%[0m
      [36m</button>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"tool-panel"[39m
    [36m>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Select"[39m
        [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
      [36m>[39m
        [0mSelect[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Sticky Note"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mSticky Note[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Rectangle"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mRectangle[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Circle"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mCircle[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Text"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mText[0m
      [36m</button>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div>[39m
      [0mBoard: [0m
      [0mtest-board-123[0m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"connection-status bg-red-500"[39m
    [36m>[39m
      [0mDisconnected[0m
    [36m</div>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"whiteboard-container"[39m
          [33mrole[39m=[32m"generic"[39m
          [33mtabindex[39m=[32m"0"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"toolbar"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Zoom in"[39m
            [36m>[39m
              [0m+[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Zoom out"[39m
            [36m>[39m
              [0m-[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Reset zoom"[39m
            [36m>[39m
              [0m100%[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"tool-panel"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Select"[39m
              [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
            [36m>[39m
              [0mSelect[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Sticky Note"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mSticky Note[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Rectangle"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mRectangle[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Circle"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mCircle[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Text"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mText[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div>[39m
            [0mBoard: [0m
            [0mtest-board-123[0m
          [36m</div>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle grid"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mGrid[0m
          [36m</button>[39m
          [36m<div[39m
            [33mclass[39m=[32m"connection-status bg-red-500"[39m
          [36m>[39m
            [0mDisconnected[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      372 |       expect(useCanvasStore.getState().selectedElementIds).toHaveLength(2)
      373 |
    > 374 |       const whiteboard = screen.getByRole('generic', { hidden: true })
          |                                 ^
      375 |       whiteboard.focus()
      376 |       await user.keyboard('{Escape}')
      377 |

      at Object.getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (src/__tests__/integration/whiteboard-integration.test.tsx:374:33)

  ● Whiteboard Integration Tests › Canvas Interaction › should handle mouse events on canvas

    TestingLibraryElementError: Found multiple elements with the role "generic"

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"whiteboard-container"[39m
        [33mrole[39m=[32m"generic"[39m
        [33mtabindex[39m=[32m"0"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"toolbar"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Zoom in"[39m
          [36m>[39m
            [0m+[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Zoom out"[39m
          [36m>[39m
            [0m-[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Reset zoom"[39m
          [36m>[39m
            [0m100%[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"tool-panel"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Select"[39m
            [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
          [36m>[39m
            [0mSelect[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Sticky Note"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mSticky Note[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Rectangle"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mRectangle[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Circle"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mCircle[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Text"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mText[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div>[39m
          [0mBoard: [0m
          [0mtest-board-123[0m
        [36m</div>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Toggle grid"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mGrid[0m
        [36m</button>[39m
        [36m<div[39m
          [33mclass[39m=[32m"connection-status bg-red-500"[39m
        [36m>[39m
          [0mDisconnected[0m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"whiteboard-container"[39m
      [33mrole[39m=[32m"generic"[39m
      [33mtabindex[39m=[32m"0"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"toolbar"[39m
      [36m>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Zoom in"[39m
        [36m>[39m
          [0m+[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Zoom out"[39m
        [36m>[39m
          [0m-[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Reset zoom"[39m
        [36m>[39m
          [0m100%[0m
        [36m</button>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"tool-panel"[39m
      [36m>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Select"[39m
          [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
        [36m>[39m
          [0mSelect[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Sticky Note"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mSticky Note[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Rectangle"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mRectangle[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Circle"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mCircle[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Text"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mText[0m
        [36m</button>[39m
      [36m</div>[39m
      [36m<div>[39m
        [0mBoard: [0m
        [0mtest-board-123[0m
      [36m</div>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Toggle grid"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mGrid[0m
      [36m</button>[39m
      [36m<div[39m
        [33mclass[39m=[32m"connection-status bg-red-500"[39m
      [36m>[39m
        [0mDisconnected[0m
      [36m</div>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"toolbar"[39m
    [36m>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Zoom in"[39m
      [36m>[39m
        [0m+[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Zoom out"[39m
      [36m>[39m
        [0m-[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Reset zoom"[39m
      [36m>[39m
        [0m100%[0m
      [36m</button>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"tool-panel"[39m
    [36m>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Select"[39m
        [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
      [36m>[39m
        [0mSelect[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Sticky Note"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mSticky Note[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Rectangle"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mRectangle[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Circle"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mCircle[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Text"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mText[0m
      [36m</button>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div>[39m
      [0mBoard: [0m
      [0mtest-board-123[0m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"connection-status bg-red-500"[39m
    [36m>[39m
      [0mDisconnected[0m
    [36m</div>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"whiteboard-container"[39m
          [33mrole[39m=[32m"generic"[39m
          [33mtabindex[39m=[32m"0"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"toolbar"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Zoom in"[39m
            [36m>[39m
              [0m+[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Zoom out"[39m
            [36m>[39m
              [0m-[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Reset zoom"[39m
            [36m>[39m
              [0m100%[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"tool-panel"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Select"[39m
              [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
            [36m>[39m
              [0mSelect[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Sticky Note"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mSticky Note[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Rectangle"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mRectangle[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Circle"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mCircle[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Text"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mText[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div>[39m
            [0mBoard: [0m
            [0mtest-board-123[0m
          [36m</div>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle grid"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mGrid[0m
          [36m</button>[39m
          [36m<div[39m
            [33mclass[39m=[32m"connection-status bg-red-500"[39m
          [36m>[39m
            [0mDisconnected[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      384 |       render(<Whiteboard boardId={mockBoardId} />)
      385 |       
    > 386 |       const canvasContainer = screen.getByRole('generic', { hidden: true })
          |                                      ^
      387 |       
      388 |       // Test mouse down
      389 |       fireEvent.mouseDown(canvasContainer, { clientX: 100, clientY: 150 })

      at Object.getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (src/__tests__/integration/whiteboard-integration.test.tsx:386:38)

  ● Whiteboard Integration Tests › Canvas Interaction › should create elements when clicking with creation tools

    TestingLibraryElementError: Found multiple elements with the role "generic"

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"whiteboard-container"[39m
        [33mrole[39m=[32m"generic"[39m
        [33mtabindex[39m=[32m"0"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"toolbar"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Zoom in"[39m
          [36m>[39m
            [0m+[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Zoom out"[39m
          [36m>[39m
            [0m-[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Reset zoom"[39m
          [36m>[39m
            [0m100%[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"tool-panel"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Select"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mSelect[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Sticky Note"[39m
            [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
          [36m>[39m
            [0mSticky Note[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Rectangle"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mRectangle[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Circle"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mCircle[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Text"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mText[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div>[39m
          [0mBoard: [0m
          [0mtest-board-123[0m
        [36m</div>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Toggle grid"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mGrid[0m
        [36m</button>[39m
        [36m<div[39m
          [33mclass[39m=[32m"connection-status bg-red-500"[39m
        [36m>[39m
          [0mDisconnected[0m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"whiteboard-container"[39m
      [33mrole[39m=[32m"generic"[39m
      [33mtabindex[39m=[32m"0"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"toolbar"[39m
      [36m>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Zoom in"[39m
        [36m>[39m
          [0m+[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Zoom out"[39m
        [36m>[39m
          [0m-[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Reset zoom"[39m
        [36m>[39m
          [0m100%[0m
        [36m</button>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"tool-panel"[39m
      [36m>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Select"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mSelect[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Sticky Note"[39m
          [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
        [36m>[39m
          [0mSticky Note[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Rectangle"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mRectangle[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Circle"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mCircle[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Text"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mText[0m
        [36m</button>[39m
      [36m</div>[39m
      [36m<div>[39m
        [0mBoard: [0m
        [0mtest-board-123[0m
      [36m</div>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Toggle grid"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mGrid[0m
      [36m</button>[39m
      [36m<div[39m
        [33mclass[39m=[32m"connection-status bg-red-500"[39m
      [36m>[39m
        [0mDisconnected[0m
      [36m</div>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"toolbar"[39m
    [36m>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Zoom in"[39m
      [36m>[39m
        [0m+[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Zoom out"[39m
      [36m>[39m
        [0m-[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Reset zoom"[39m
      [36m>[39m
        [0m100%[0m
      [36m</button>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"tool-panel"[39m
    [36m>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Select"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mSelect[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Sticky Note"[39m
        [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
      [36m>[39m
        [0mSticky Note[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Rectangle"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mRectangle[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Circle"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mCircle[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Text"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mText[0m
      [36m</button>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div>[39m
      [0mBoard: [0m
      [0mtest-board-123[0m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"connection-status bg-red-500"[39m
    [36m>[39m
      [0mDisconnected[0m
    [36m</div>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"whiteboard-container"[39m
          [33mrole[39m=[32m"generic"[39m
          [33mtabindex[39m=[32m"0"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"toolbar"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Zoom in"[39m
            [36m>[39m
              [0m+[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Zoom out"[39m
            [36m>[39m
              [0m-[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Reset zoom"[39m
            [36m>[39m
              [0m100%[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"tool-panel"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Select"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mSelect[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Sticky Note"[39m
              [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
            [36m>[39m
              [0mSticky Note[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Rectangle"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mRectangle[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Circle"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mCircle[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Text"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mText[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div>[39m
            [0mBoard: [0m
            [0mtest-board-123[0m
          [36m</div>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle grid"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mGrid[0m
          [36m</button>[39m
          [36m<div[39m
            [33mclass[39m=[32m"connection-status bg-red-500"[39m
          [36m>[39m
            [0mDisconnected[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      402 |       await user.click(stickyNoteBtn)
      403 |
    > 404 |       const canvasContainer = screen.getByRole('generic', { hidden: true })
          |                                      ^
      405 |       
      406 |       // Simulate click to create element
      407 |       fireEvent.mouseDown(canvasContainer, { 

      at Object.getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (src/__tests__/integration/whiteboard-integration.test.tsx:404:38)

  ● Whiteboard Integration Tests › Error Handling › should show loading state during initialization

    TestingLibraryElementError: Found multiple elements with the role "generic"

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"whiteboard-container"[39m
        [33mrole[39m=[32m"generic"[39m
        [33mtabindex[39m=[32m"0"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"toolbar"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Zoom in"[39m
          [36m>[39m
            [0m+[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Zoom out"[39m
          [36m>[39m
            [0m-[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Reset zoom"[39m
          [36m>[39m
            [0m100%[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"tool-panel"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Select"[39m
            [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
          [36m>[39m
            [0mSelect[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Sticky Note"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mSticky Note[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Rectangle"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mRectangle[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Circle"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mCircle[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Text"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mText[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div>[39m
          [0mBoard: [0m
          [0mtest-board-123[0m
        [36m</div>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Toggle grid"[39m
          [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
        [36m>[39m
          [0mGrid[0m
        [36m</button>[39m
        [36m<div[39m
          [33mclass[39m=[32m"grid-indicator"[39m
        [36m>[39m
          [0mGrid is visible[0m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"connection-status bg-red-500"[39m
        [36m>[39m
          [0mDisconnected[0m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"whiteboard-container"[39m
      [33mrole[39m=[32m"generic"[39m
      [33mtabindex[39m=[32m"0"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"toolbar"[39m
      [36m>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Zoom in"[39m
        [36m>[39m
          [0m+[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Zoom out"[39m
        [36m>[39m
          [0m-[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Reset zoom"[39m
        [36m>[39m
          [0m100%[0m
        [36m</button>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"tool-panel"[39m
      [36m>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Select"[39m
          [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
        [36m>[39m
          [0mSelect[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Sticky Note"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mSticky Note[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Rectangle"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mRectangle[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Circle"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mCircle[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Text"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mText[0m
        [36m</button>[39m
      [36m</div>[39m
      [36m<div>[39m
        [0mBoard: [0m
        [0mtest-board-123[0m
      [36m</div>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Toggle grid"[39m
        [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
      [36m>[39m
        [0mGrid[0m
      [36m</button>[39m
      [36m<div[39m
        [33mclass[39m=[32m"grid-indicator"[39m
      [36m>[39m
        [0mGrid is visible[0m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"connection-status bg-red-500"[39m
      [36m>[39m
        [0mDisconnected[0m
      [36m</div>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"toolbar"[39m
    [36m>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Zoom in"[39m
      [36m>[39m
        [0m+[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Zoom out"[39m
      [36m>[39m
        [0m-[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Reset zoom"[39m
      [36m>[39m
        [0m100%[0m
      [36m</button>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"tool-panel"[39m
    [36m>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Select"[39m
        [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
      [36m>[39m
        [0mSelect[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Sticky Note"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mSticky Note[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Rectangle"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mRectangle[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Circle"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mCircle[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Text"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mText[0m
      [36m</button>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div>[39m
      [0mBoard: [0m
      [0mtest-board-123[0m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"grid-indicator"[39m
    [36m>[39m
      [0mGrid is visible[0m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"connection-status bg-red-500"[39m
    [36m>[39m
      [0mDisconnected[0m
    [36m</div>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"whiteboard-container"[39m
          [33mrole[39m=[32m"generic"[39m
          [33mtabindex[39m=[32m"0"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"toolbar"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Zoom in"[39m
            [36m>[39m
              [0m+[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Zoom out"[39m
            [36m>[39m
              [0m-[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Reset zoom"[39m
            [36m>[39m
              [0m100%[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"tool-panel"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Select"[39m
              [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
            [36m>[39m
              [0mSelect[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Sticky Note"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mSticky Note[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Rectangle"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mRectangle[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Circle"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mCircle[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Text"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mText[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div>[39m
            [0mBoard: [0m
            [0mtest-board-123[0m
          [36m</div>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle grid"[39m
            [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
          [36m>[39m
            [0mGrid[0m
          [36m</button>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid-indicator"[39m
          [36m>[39m
            [0mGrid is visible[0m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"connection-status bg-red-500"[39m
          [36m>[39m
            [0mDisconnected[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      524 |
      525 |       // Should show loading spinner initially
    > 526 |       const loadingSpinner = screen.queryByRole('generic', { hidden: true })
          |                                     ^
      527 |       expect(loadingSpinner).toBeInTheDocument()
      528 |     })
      529 |   })

      at Object.getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.queryByRole (src/__tests__/integration/whiteboard-integration.test.tsx:526:37)

PASS src/hooks/__tests__/useWebSocket.test.ts
  ● Console

    console.log
      Connected to WebSocket server

      at log (src/hooks/useWebSocket.ts:61:15)

    console.log
      Joined board with users: [
        { userId: 'user1', displayName: 'User 1', avatarColor: '#ff0000' },
        { userId: 'user2', displayName: 'User 2', avatarColor: '#00ff00' }
      ]

      at log (src/hooks/useWebSocket.ts:81:15)

    console.log
      Connected to WebSocket server

      at log (src/hooks/useWebSocket.ts:61:15)

    console.log
      Connected to WebSocket server

      at log (src/hooks/useWebSocket.ts:61:15)

    console.log
      Connected to WebSocket server

      at log (src/hooks/useWebSocket.ts:61:15)

    console.log
      Disconnected from WebSocket server

      at log (src/hooks/useWebSocket.ts:66:15)

PASS src/lib/__tests__/resize-handler.test.ts
PASS src/__tests__/smooth-interactions.test.ts
PASS src/__tests__/auth.test.ts
PASS src/components/__tests__/FPSCounter.test.tsx
PASS src/__tests__/layering.test.ts
PASS src/services/__tests__/OperationTransform.test.ts
PASS src/__tests__/drawing-tools.test.ts
PASS src/__tests__/undo-redo.test.ts
PASS src/__tests__/store.test.ts
FAIL src/app/api/auth/__tests__/route.test.ts
  ● Test suite failed to run

    The error below may be caused by using the wrong test environment, see https://jestjs.io/docs/configuration#testenvironment-string.
    Consider using the "jsdom" test environment.

    ReferenceError: window is not defined

      59 |
      60 | // Mock matchMedia
    > 61 | Object.defineProperty(window, 'matchMedia', {
         |                       ^
      62 |   writable: true,
      63 |   value: jest.fn().mockImplementation(query => ({
      64 |     matches: false,

      at Object.window (jest.setup.js:61:23)

FAIL src/__tests__/utils/helpers.ts
  ● Test suite failed to run

    Your test suite must contain at least one test.

      at onResult (node_modules/@jest/core/build/TestScheduler.js:133:18)
      at node_modules/@jest/core/build/TestScheduler.js:254:19
      at node_modules/emittery/index.js:363:13
          at Array.map (<anonymous>)
      at Emittery.emit (node_modules/emittery/index.js:361:23)

FAIL src/lib/__tests__/canvas-engine.test.ts (60.275 s)
  ● CanvasEngine › Performance Optimizations › should throttle render updates for smooth performance

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      168 |
      169 |   describe('Performance Optimizations', () => {
    > 170 |     it('should throttle render updates for smooth performance', async () => {
          |     ^
      171 |       engine = new CanvasEngine(container)
      172 |       const renderSpy = jest.spyOn(engine.getCanvas(), 'renderAll')
      173 |       

      at it (src/lib/__tests__/canvas-engine.test.ts:170:5)
      at describe (src/lib/__tests__/canvas-engine.test.ts:169:3)
      at Object.describe (src/lib/__tests__/canvas-engine.test.ts:57:1)

  ● CanvasEngine › Smooth Interactions › should handle drag operations smoothly

    expect(received).not.toBe(expected) // Object.is equality

    Expected: not 100

      252 |       
      253 |       // Element should have moved smoothly
    > 254 |       expect(rect.left).not.toBe(100)
          |                             ^
      255 |       expect(rect.top).not.toBe(100)
      256 |     })
      257 |

      at Object.toBe (src/lib/__tests__/canvas-engine.test.ts:254:29)

  ● CanvasEngine › Smooth Interactions › should handle resize operations smoothly

    expect(received).toBeGreaterThan(expected)

    Expected: > 100
    Received:   100

      281 |       
      282 |       // Should resize smoothly
    > 283 |       expect(rect.getScaledWidth()).toBeGreaterThan(initialWidth)
          |                                     ^
      284 |       expect(rect.getScaledHeight()).toBeGreaterThan(initialHeight)
      285 |     })
      286 |

      at Object.toBeGreaterThan (src/lib/__tests__/canvas-engine.test.ts:283:37)

  ● CanvasEngine › Smooth Interactions › should debounce rapid create operations

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      285 |     })
      286 |
    > 287 |     it('should debounce rapid create operations', async () => {
          |     ^
      288 |       engine = new CanvasEngine(container)
      289 |       const canvas = engine.getCanvas()
      290 |       

      at it (src/lib/__tests__/canvas-engine.test.ts:287:5)
      at describe (src/lib/__tests__/canvas-engine.test.ts:214:3)
      at Object.describe (src/lib/__tests__/canvas-engine.test.ts:57:1)

Summary of all failing tests
FAIL src/__tests__/canvas-engine.test.ts
  ● CanvasEngine › Camera Controls - Pan › should pan to absolute position

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

       96 |       // Trigger the scheduled render
       97 |       rafMock.step()
    >  98 |       expect(mockCanvas.renderAll).toHaveBeenCalled()
          |                                    ^
       99 |     })
      100 |
      101 |     it('should pan by relative offset', () => {

      at Object.toHaveBeenCalled (src/__tests__/canvas-engine.test.ts:98:36)

  ● CanvasEngine › Camera Controls - Pan › should pan by relative offset

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

      115 |       // Trigger the scheduled render
      116 |       rafMock.step()
    > 117 |       expect(mockCanvas.renderAll).toHaveBeenCalled()
          |                                    ^
      118 |     })
      119 |
      120 |     it('should smoothly animate pan to position', async () => {

      at Object.toHaveBeenCalled (src/__tests__/canvas-engine.test.ts:117:36)

  ● CanvasEngine › Camera Controls - Zoom › should zoom to specific level

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

      176 |       // Trigger the scheduled render
      177 |       rafMock.step()
    > 178 |       expect(mockCanvas.renderAll).toHaveBeenCalled()
          |                                    ^
      179 |       expect(canvasEngine.getCamera().zoom).toBe(1.5)
      180 |     })
      181 |

      at Object.toHaveBeenCalled (src/__tests__/canvas-engine.test.ts:178:36)

  ● CanvasEngine › Performance Optimization › should throttle render calls during rapid interactions

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

    Expected number of calls: 1
    Received number of calls: 0

      423 |       
      424 |       // Should throttle to avoid excessive renders (one per frame)
    > 425 |       expect(mockCanvas.renderAll).toHaveBeenCalledTimes(1)
          |                                    ^
      426 |     })
      427 |
      428 |     it('should maintain 60fps during smooth animations', async () => {

      at Object.toHaveBeenCalledTimes (src/__tests__/canvas-engine.test.ts:425:36)

FAIL src/__tests__/canvas-disposal.test.tsx
  ● Canvas Disposal Safety › DOM Safety › should handle disposal when DOM elements are already removed

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:73:33)

  ● Canvas Disposal Safety › DOM Safety › should not throw when parent node is null during disposal

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:92:33)

  ● Canvas Disposal Safety › Refresh Loop Prevention › should not re-initialize canvas after disposal

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:116:43)

  ● Canvas Disposal Safety › Refresh Loop Prevention › should prevent initialization loop on rapid mount/unmount

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:138:43)

  ● Canvas Disposal Safety › Refresh Loop Prevention › should use stable refs to prevent unnecessary re-renders

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:167:34)

  ● Canvas Disposal Safety › Disposal Token Pattern › should cancel initialization if component unmounts during init

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-disposal.test.tsx:193:33)

FAIL src/components/__tests__/Whiteboard.test.tsx
  ● Whiteboard Full-Screen Tests › Full-Screen Canvas Layout › should render canvas container with full viewport dimensions

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:116:35)

  ● Whiteboard Full-Screen Tests › Full-Screen Canvas Layout › should apply fixed positioning with inset-0

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:136:35)

  ● Whiteboard Full-Screen Tests › Full-Screen Canvas Layout › should have no gaps or margins around canvas

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:154:35)

  ● Whiteboard Full-Screen Tests › Full-Screen Canvas Layout › should fill 100% of viewport width and height

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:168:35)

  ● Whiteboard Full-Screen Tests › Full-Screen Canvas Layout › should have correct z-index layering

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:182:35)

  ● Whiteboard Full-Screen Tests › Responsive Behavior › should adapt to viewport size changes

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:201:35)

  ● Whiteboard Full-Screen Tests › Responsive Behavior › should maintain full-screen on orientation change

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:227:35)

  ● Whiteboard Full-Screen Tests › Canvas Performance › should enable GPU acceleration styles

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:263:35)

  ● Whiteboard Full-Screen Tests › Canvas Performance › should use hardware acceleration hints

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/components/__tests__/Whiteboard.test.tsx:278:35)

FAIL src/__tests__/canvas-fullscreen.test.tsx
  ● Canvas Full-Screen Tests › Canvas Container Positioning › should render canvas with fixed positioning

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:79:35)

  ● Canvas Full-Screen Tests › Canvas Container Positioning › should have inset-0 positioning (top, right, bottom, left all 0)

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:88:35)

  ● Canvas Full-Screen Tests › Canvas Container Positioning › should have 100% width and height

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:99:35)

  ● Canvas Full-Screen Tests › Canvas Container Positioning › should have no margin or padding

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:108:35)

  ● Canvas Full-Screen Tests › Viewport Coverage › should fill entire viewport without gaps

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:119:35)

  ● Canvas Full-Screen Tests › Viewport Coverage › should have proper z-index layering

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:131:35)

  ● Canvas Full-Screen Tests › Viewport Coverage › should have GPU acceleration styles

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:139:35)

  ● Canvas Full-Screen Tests › Responsive Behavior › should handle window resize events

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:150:13)

  ● Canvas Full-Screen Tests › Responsive Behavior › should maintain full coverage after resize

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:167:35)

  ● Canvas Full-Screen Tests › Responsive Behavior › should update canvas dimensions on container resize

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:185:13)

  ● Canvas Full-Screen Tests › Touch and Interaction Areas › should have touch-none style for proper touch handling

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:219:35)

  ● Canvas Full-Screen Tests › Touch and Interaction Areas › should prevent text selection on canvas

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:227:35)

  ● Canvas Full-Screen Tests › Touch and Interaction Areas › should have proper cursor styles

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:234:35)

  ● Canvas Full-Screen Tests › Performance Optimizations › should have will-change transform for smooth rendering

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:243:35)

  ● Canvas Full-Screen Tests › Performance Optimizations › should setup smooth rendering on initialization

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:251:13)

  ● Canvas Full-Screen Tests › Integration with UI Elements › should position canvas below UI overlays

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:263:35)

  ● Canvas Full-Screen Tests › Integration with UI Elements › should not overflow parent container

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:277:35)

  ● Canvas Full-Screen Tests › Canvas Element Integration › should create canvas element with proper dimensions

    useAuth must be used within an AuthProvider

      26 |   const context = useContext(AuthContext)
      27 |   if (!context) {
    > 28 |     throw new Error('useAuth must be used within an AuthProvider')
         |           ^
      29 |   }
      30 |   return context
      31 | }

      at useAuth (src/context/AuthContext.tsx:28:11)
      at Whiteboard (src/components/Whiteboard.tsx:25:44)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:180:26)
      at render (node_modules/@testing-library/react/dist/pure.js:271:10)
      at Object.<anonymous> (src/__tests__/canvas-fullscreen.test.tsx:286:13)

FAIL src/__tests__/integration/whiteboard-integration.test.tsx
  ● Whiteboard Integration Tests › Keyboard Shortcuts › should respond to tool keyboard shortcuts

    TestingLibraryElementError: Found multiple elements with the role "generic"

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"whiteboard-container"[39m
        [33mrole[39m=[32m"generic"[39m
        [33mtabindex[39m=[32m"0"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"toolbar"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Zoom in"[39m
          [36m>[39m
            [0m+[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Zoom out"[39m
          [36m>[39m
            [0m-[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Reset zoom"[39m
          [36m>[39m
            [0m100%[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"tool-panel"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Select"[39m
            [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
          [36m>[39m
            [0mSelect[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Sticky Note"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mSticky Note[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Rectangle"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mRectangle[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Circle"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mCircle[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Text"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mText[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div>[39m
          [0mBoard: [0m
          [0mtest-board-123[0m
        [36m</div>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Toggle grid"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mGrid[0m
        [36m</button>[39m
        [36m<div[39m
          [33mclass[39m=[32m"connection-status bg-red-500"[39m
        [36m>[39m
          [0mDisconnected[0m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"whiteboard-container"[39m
      [33mrole[39m=[32m"generic"[39m
      [33mtabindex[39m=[32m"0"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"toolbar"[39m
      [36m>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Zoom in"[39m
        [36m>[39m
          [0m+[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Zoom out"[39m
        [36m>[39m
          [0m-[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Reset zoom"[39m
        [36m>[39m
          [0m100%[0m
        [36m</button>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"tool-panel"[39m
      [36m>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Select"[39m
          [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
        [36m>[39m
          [0mSelect[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Sticky Note"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mSticky Note[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Rectangle"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mRectangle[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Circle"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mCircle[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Text"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mText[0m
        [36m</button>[39m
      [36m</div>[39m
      [36m<div>[39m
        [0mBoard: [0m
        [0mtest-board-123[0m
      [36m</div>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Toggle grid"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mGrid[0m
      [36m</button>[39m
      [36m<div[39m
        [33mclass[39m=[32m"connection-status bg-red-500"[39m
      [36m>[39m
        [0mDisconnected[0m
      [36m</div>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"toolbar"[39m
    [36m>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Zoom in"[39m
      [36m>[39m
        [0m+[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Zoom out"[39m
      [36m>[39m
        [0m-[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Reset zoom"[39m
      [36m>[39m
        [0m100%[0m
      [36m</button>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"tool-panel"[39m
    [36m>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Select"[39m
        [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
      [36m>[39m
        [0mSelect[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Sticky Note"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mSticky Note[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Rectangle"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mRectangle[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Circle"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mCircle[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Text"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mText[0m
      [36m</button>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div>[39m
      [0mBoard: [0m
      [0mtest-board-123[0m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"connection-status bg-red-500"[39m
    [36m>[39m
      [0mDisconnected[0m
    [36m</div>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"whiteboard-container"[39m
          [33mrole[39m=[32m"generic"[39m
          [33mtabindex[39m=[32m"0"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"toolbar"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Zoom in"[39m
            [36m>[39m
              [0m+[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Zoom out"[39m
            [36m>[39m
              [0m-[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Reset zoom"[39m
            [36m>[39m
              [0m100%[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"tool-panel"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Select"[39m
              [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
            [36m>[39m
              [0mSelect[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Sticky Note"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mSticky Note[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Rectangle"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mRectangle[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Circle"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mCircle[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Text"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mText[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div>[39m
            [0mBoard: [0m
            [0mtest-board-123[0m
          [36m</div>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle grid"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mGrid[0m
          [36m</button>[39m
          [36m<div[39m
            [33mclass[39m=[32m"connection-status bg-red-500"[39m
          [36m>[39m
            [0mDisconnected[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      349 |       render(<Whiteboard boardId={mockBoardId} />)
      350 |
    > 351 |       const whiteboard = screen.getByRole('generic', { hidden: true }) // Canvas container
          |                                 ^
      352 |
      353 |       // Test sticky note shortcut
      354 |       whiteboard.focus()

      at Object.getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (src/__tests__/integration/whiteboard-integration.test.tsx:351:33)

  ● Whiteboard Integration Tests › Keyboard Shortcuts › should clear selection with escape key

    TestingLibraryElementError: Found multiple elements with the role "generic"

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"whiteboard-container"[39m
        [33mrole[39m=[32m"generic"[39m
        [33mtabindex[39m=[32m"0"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"toolbar"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Zoom in"[39m
          [36m>[39m
            [0m+[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Zoom out"[39m
          [36m>[39m
            [0m-[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Reset zoom"[39m
          [36m>[39m
            [0m100%[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"tool-panel"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Select"[39m
            [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
          [36m>[39m
            [0mSelect[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Sticky Note"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mSticky Note[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Rectangle"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mRectangle[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Circle"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mCircle[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Text"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mText[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div>[39m
          [0mBoard: [0m
          [0mtest-board-123[0m
        [36m</div>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Toggle grid"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mGrid[0m
        [36m</button>[39m
        [36m<div[39m
          [33mclass[39m=[32m"connection-status bg-red-500"[39m
        [36m>[39m
          [0mDisconnected[0m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"whiteboard-container"[39m
      [33mrole[39m=[32m"generic"[39m
      [33mtabindex[39m=[32m"0"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"toolbar"[39m
      [36m>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Zoom in"[39m
        [36m>[39m
          [0m+[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Zoom out"[39m
        [36m>[39m
          [0m-[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Reset zoom"[39m
        [36m>[39m
          [0m100%[0m
        [36m</button>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"tool-panel"[39m
      [36m>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Select"[39m
          [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
        [36m>[39m
          [0mSelect[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Sticky Note"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mSticky Note[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Rectangle"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mRectangle[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Circle"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mCircle[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Text"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mText[0m
        [36m</button>[39m
      [36m</div>[39m
      [36m<div>[39m
        [0mBoard: [0m
        [0mtest-board-123[0m
      [36m</div>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Toggle grid"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mGrid[0m
      [36m</button>[39m
      [36m<div[39m
        [33mclass[39m=[32m"connection-status bg-red-500"[39m
      [36m>[39m
        [0mDisconnected[0m
      [36m</div>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"toolbar"[39m
    [36m>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Zoom in"[39m
      [36m>[39m
        [0m+[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Zoom out"[39m
      [36m>[39m
        [0m-[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Reset zoom"[39m
      [36m>[39m
        [0m100%[0m
      [36m</button>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"tool-panel"[39m
    [36m>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Select"[39m
        [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
      [36m>[39m
        [0mSelect[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Sticky Note"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mSticky Note[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Rectangle"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mRectangle[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Circle"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mCircle[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Text"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mText[0m
      [36m</button>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div>[39m
      [0mBoard: [0m
      [0mtest-board-123[0m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"connection-status bg-red-500"[39m
    [36m>[39m
      [0mDisconnected[0m
    [36m</div>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"whiteboard-container"[39m
          [33mrole[39m=[32m"generic"[39m
          [33mtabindex[39m=[32m"0"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"toolbar"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Zoom in"[39m
            [36m>[39m
              [0m+[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Zoom out"[39m
            [36m>[39m
              [0m-[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Reset zoom"[39m
            [36m>[39m
              [0m100%[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"tool-panel"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Select"[39m
              [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
            [36m>[39m
              [0mSelect[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Sticky Note"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mSticky Note[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Rectangle"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mRectangle[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Circle"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mCircle[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Text"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mText[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div>[39m
            [0mBoard: [0m
            [0mtest-board-123[0m
          [36m</div>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle grid"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mGrid[0m
          [36m</button>[39m
          [36m<div[39m
            [33mclass[39m=[32m"connection-status bg-red-500"[39m
          [36m>[39m
            [0mDisconnected[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      372 |       expect(useCanvasStore.getState().selectedElementIds).toHaveLength(2)
      373 |
    > 374 |       const whiteboard = screen.getByRole('generic', { hidden: true })
          |                                 ^
      375 |       whiteboard.focus()
      376 |       await user.keyboard('{Escape}')
      377 |

      at Object.getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (src/__tests__/integration/whiteboard-integration.test.tsx:374:33)

  ● Whiteboard Integration Tests › Canvas Interaction › should handle mouse events on canvas

    TestingLibraryElementError: Found multiple elements with the role "generic"

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"whiteboard-container"[39m
        [33mrole[39m=[32m"generic"[39m
        [33mtabindex[39m=[32m"0"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"toolbar"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Zoom in"[39m
          [36m>[39m
            [0m+[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Zoom out"[39m
          [36m>[39m
            [0m-[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Reset zoom"[39m
          [36m>[39m
            [0m100%[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"tool-panel"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Select"[39m
            [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
          [36m>[39m
            [0mSelect[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Sticky Note"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mSticky Note[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Rectangle"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mRectangle[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Circle"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mCircle[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Text"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mText[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div>[39m
          [0mBoard: [0m
          [0mtest-board-123[0m
        [36m</div>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Toggle grid"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mGrid[0m
        [36m</button>[39m
        [36m<div[39m
          [33mclass[39m=[32m"connection-status bg-red-500"[39m
        [36m>[39m
          [0mDisconnected[0m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"whiteboard-container"[39m
      [33mrole[39m=[32m"generic"[39m
      [33mtabindex[39m=[32m"0"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"toolbar"[39m
      [36m>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Zoom in"[39m
        [36m>[39m
          [0m+[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Zoom out"[39m
        [36m>[39m
          [0m-[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Reset zoom"[39m
        [36m>[39m
          [0m100%[0m
        [36m</button>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"tool-panel"[39m
      [36m>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Select"[39m
          [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
        [36m>[39m
          [0mSelect[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Sticky Note"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mSticky Note[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Rectangle"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mRectangle[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Circle"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mCircle[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Text"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mText[0m
        [36m</button>[39m
      [36m</div>[39m
      [36m<div>[39m
        [0mBoard: [0m
        [0mtest-board-123[0m
      [36m</div>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Toggle grid"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mGrid[0m
      [36m</button>[39m
      [36m<div[39m
        [33mclass[39m=[32m"connection-status bg-red-500"[39m
      [36m>[39m
        [0mDisconnected[0m
      [36m</div>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"toolbar"[39m
    [36m>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Zoom in"[39m
      [36m>[39m
        [0m+[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Zoom out"[39m
      [36m>[39m
        [0m-[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Reset zoom"[39m
      [36m>[39m
        [0m100%[0m
      [36m</button>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"tool-panel"[39m
    [36m>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Select"[39m
        [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
      [36m>[39m
        [0mSelect[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Sticky Note"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mSticky Note[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Rectangle"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mRectangle[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Circle"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mCircle[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Text"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mText[0m
      [36m</button>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div>[39m
      [0mBoard: [0m
      [0mtest-board-123[0m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"connection-status bg-red-500"[39m
    [36m>[39m
      [0mDisconnected[0m
    [36m</div>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"whiteboard-container"[39m
          [33mrole[39m=[32m"generic"[39m
          [33mtabindex[39m=[32m"0"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"toolbar"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Zoom in"[39m
            [36m>[39m
              [0m+[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Zoom out"[39m
            [36m>[39m
              [0m-[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Reset zoom"[39m
            [36m>[39m
              [0m100%[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"tool-panel"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Select"[39m
              [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
            [36m>[39m
              [0mSelect[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Sticky Note"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mSticky Note[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Rectangle"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mRectangle[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Circle"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mCircle[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Text"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mText[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div>[39m
            [0mBoard: [0m
            [0mtest-board-123[0m
          [36m</div>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle grid"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mGrid[0m
          [36m</button>[39m
          [36m<div[39m
            [33mclass[39m=[32m"connection-status bg-red-500"[39m
          [36m>[39m
            [0mDisconnected[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      384 |       render(<Whiteboard boardId={mockBoardId} />)
      385 |       
    > 386 |       const canvasContainer = screen.getByRole('generic', { hidden: true })
          |                                      ^
      387 |       
      388 |       // Test mouse down
      389 |       fireEvent.mouseDown(canvasContainer, { clientX: 100, clientY: 150 })

      at Object.getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (src/__tests__/integration/whiteboard-integration.test.tsx:386:38)

  ● Whiteboard Integration Tests › Canvas Interaction › should create elements when clicking with creation tools

    TestingLibraryElementError: Found multiple elements with the role "generic"

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"whiteboard-container"[39m
        [33mrole[39m=[32m"generic"[39m
        [33mtabindex[39m=[32m"0"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"toolbar"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Zoom in"[39m
          [36m>[39m
            [0m+[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Zoom out"[39m
          [36m>[39m
            [0m-[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Reset zoom"[39m
          [36m>[39m
            [0m100%[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"tool-panel"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Select"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mSelect[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Sticky Note"[39m
            [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
          [36m>[39m
            [0mSticky Note[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Rectangle"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mRectangle[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Circle"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mCircle[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Text"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mText[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div>[39m
          [0mBoard: [0m
          [0mtest-board-123[0m
        [36m</div>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Toggle grid"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mGrid[0m
        [36m</button>[39m
        [36m<div[39m
          [33mclass[39m=[32m"connection-status bg-red-500"[39m
        [36m>[39m
          [0mDisconnected[0m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"whiteboard-container"[39m
      [33mrole[39m=[32m"generic"[39m
      [33mtabindex[39m=[32m"0"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"toolbar"[39m
      [36m>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Zoom in"[39m
        [36m>[39m
          [0m+[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Zoom out"[39m
        [36m>[39m
          [0m-[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Reset zoom"[39m
        [36m>[39m
          [0m100%[0m
        [36m</button>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"tool-panel"[39m
      [36m>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Select"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mSelect[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Sticky Note"[39m
          [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
        [36m>[39m
          [0mSticky Note[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Rectangle"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mRectangle[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Circle"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mCircle[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Text"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mText[0m
        [36m</button>[39m
      [36m</div>[39m
      [36m<div>[39m
        [0mBoard: [0m
        [0mtest-board-123[0m
      [36m</div>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Toggle grid"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mGrid[0m
      [36m</button>[39m
      [36m<div[39m
        [33mclass[39m=[32m"connection-status bg-red-500"[39m
      [36m>[39m
        [0mDisconnected[0m
      [36m</div>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"toolbar"[39m
    [36m>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Zoom in"[39m
      [36m>[39m
        [0m+[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Zoom out"[39m
      [36m>[39m
        [0m-[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Reset zoom"[39m
      [36m>[39m
        [0m100%[0m
      [36m</button>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"tool-panel"[39m
    [36m>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Select"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mSelect[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Sticky Note"[39m
        [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
      [36m>[39m
        [0mSticky Note[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Rectangle"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mRectangle[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Circle"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mCircle[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Text"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mText[0m
      [36m</button>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div>[39m
      [0mBoard: [0m
      [0mtest-board-123[0m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"connection-status bg-red-500"[39m
    [36m>[39m
      [0mDisconnected[0m
    [36m</div>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"whiteboard-container"[39m
          [33mrole[39m=[32m"generic"[39m
          [33mtabindex[39m=[32m"0"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"toolbar"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Zoom in"[39m
            [36m>[39m
              [0m+[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Zoom out"[39m
            [36m>[39m
              [0m-[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Reset zoom"[39m
            [36m>[39m
              [0m100%[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"tool-panel"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Select"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mSelect[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Sticky Note"[39m
              [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
            [36m>[39m
              [0mSticky Note[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Rectangle"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mRectangle[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Circle"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mCircle[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Text"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mText[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div>[39m
            [0mBoard: [0m
            [0mtest-board-123[0m
          [36m</div>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle grid"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mGrid[0m
          [36m</button>[39m
          [36m<div[39m
            [33mclass[39m=[32m"connection-status bg-red-500"[39m
          [36m>[39m
            [0mDisconnected[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      402 |       await user.click(stickyNoteBtn)
      403 |
    > 404 |       const canvasContainer = screen.getByRole('generic', { hidden: true })
          |                                      ^
      405 |       
      406 |       // Simulate click to create element
      407 |       fireEvent.mouseDown(canvasContainer, { 

      at Object.getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (src/__tests__/integration/whiteboard-integration.test.tsx:404:38)

  ● Whiteboard Integration Tests › Error Handling › should show loading state during initialization

    TestingLibraryElementError: Found multiple elements with the role "generic"

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"whiteboard-container"[39m
        [33mrole[39m=[32m"generic"[39m
        [33mtabindex[39m=[32m"0"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"toolbar"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Zoom in"[39m
          [36m>[39m
            [0m+[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Zoom out"[39m
          [36m>[39m
            [0m-[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Reset zoom"[39m
          [36m>[39m
            [0m100%[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"tool-panel"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Select"[39m
            [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
          [36m>[39m
            [0mSelect[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Sticky Note"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mSticky Note[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Rectangle"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mRectangle[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Circle"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mCircle[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Text"[39m
            [33mclass[39m=[32m""[39m
          [36m>[39m
            [0mText[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div>[39m
          [0mBoard: [0m
          [0mtest-board-123[0m
        [36m</div>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Toggle grid"[39m
          [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
        [36m>[39m
          [0mGrid[0m
        [36m</button>[39m
        [36m<div[39m
          [33mclass[39m=[32m"grid-indicator"[39m
        [36m>[39m
          [0mGrid is visible[0m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"connection-status bg-red-500"[39m
        [36m>[39m
          [0mDisconnected[0m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"whiteboard-container"[39m
      [33mrole[39m=[32m"generic"[39m
      [33mtabindex[39m=[32m"0"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"toolbar"[39m
      [36m>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Zoom in"[39m
        [36m>[39m
          [0m+[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Zoom out"[39m
        [36m>[39m
          [0m-[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Reset zoom"[39m
        [36m>[39m
          [0m100%[0m
        [36m</button>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"tool-panel"[39m
      [36m>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Select"[39m
          [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
        [36m>[39m
          [0mSelect[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Sticky Note"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mSticky Note[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Rectangle"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mRectangle[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Circle"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mCircle[0m
        [36m</button>[39m
        [36m<button[39m
          [33maria-label[39m=[32m"Text"[39m
          [33mclass[39m=[32m""[39m
        [36m>[39m
          [0mText[0m
        [36m</button>[39m
      [36m</div>[39m
      [36m<div>[39m
        [0mBoard: [0m
        [0mtest-board-123[0m
      [36m</div>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Toggle grid"[39m
        [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
      [36m>[39m
        [0mGrid[0m
      [36m</button>[39m
      [36m<div[39m
        [33mclass[39m=[32m"grid-indicator"[39m
      [36m>[39m
        [0mGrid is visible[0m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"connection-status bg-red-500"[39m
      [36m>[39m
        [0mDisconnected[0m
      [36m</div>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"toolbar"[39m
    [36m>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Zoom in"[39m
      [36m>[39m
        [0m+[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Zoom out"[39m
      [36m>[39m
        [0m-[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Reset zoom"[39m
      [36m>[39m
        [0m100%[0m
      [36m</button>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"tool-panel"[39m
    [36m>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Select"[39m
        [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
      [36m>[39m
        [0mSelect[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Sticky Note"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mSticky Note[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Rectangle"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mRectangle[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Circle"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mCircle[0m
      [36m</button>[39m
      [36m<button[39m
        [33maria-label[39m=[32m"Text"[39m
        [33mclass[39m=[32m""[39m
      [36m>[39m
        [0mText[0m
      [36m</button>[39m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div>[39m
      [0mBoard: [0m
      [0mtest-board-123[0m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"grid-indicator"[39m
    [36m>[39m
      [0mGrid is visible[0m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"connection-status bg-red-500"[39m
    [36m>[39m
      [0mDisconnected[0m
    [36m</div>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"whiteboard-container"[39m
          [33mrole[39m=[32m"generic"[39m
          [33mtabindex[39m=[32m"0"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"toolbar"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Zoom in"[39m
            [36m>[39m
              [0m+[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Zoom out"[39m
            [36m>[39m
              [0m-[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Reset zoom"[39m
            [36m>[39m
              [0m100%[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"tool-panel"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Select"[39m
              [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
            [36m>[39m
              [0mSelect[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Sticky Note"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mSticky Note[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Rectangle"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mRectangle[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Circle"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mCircle[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Text"[39m
              [33mclass[39m=[32m""[39m
            [36m>[39m
              [0mText[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div>[39m
            [0mBoard: [0m
            [0mtest-board-123[0m
          [36m</div>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle grid"[39m
            [33mclass[39m=[32m"bg-blue-50 text-blue-600"[39m
          [36m>[39m
            [0mGrid[0m
          [36m</button>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid-indicator"[39m
          [36m>[39m
            [0mGrid is visible[0m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"connection-status bg-red-500"[39m
          [36m>[39m
            [0mDisconnected[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      524 |
      525 |       // Should show loading spinner initially
    > 526 |       const loadingSpinner = screen.queryByRole('generic', { hidden: true })
          |                                     ^
      527 |       expect(loadingSpinner).toBeInTheDocument()
      528 |     })
      529 |   })

      at Object.getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.queryByRole (src/__tests__/integration/whiteboard-integration.test.tsx:526:37)

FAIL src/app/api/auth/__tests__/route.test.ts
  ● Test suite failed to run

    The error below may be caused by using the wrong test environment, see https://jestjs.io/docs/configuration#testenvironment-string.
    Consider using the "jsdom" test environment.

    ReferenceError: window is not defined

      59 |
      60 | // Mock matchMedia
    > 61 | Object.defineProperty(window, 'matchMedia', {
         |                       ^
      62 |   writable: true,
      63 |   value: jest.fn().mockImplementation(query => ({
      64 |     matches: false,

      at Object.window (jest.setup.js:61:23)

FAIL src/__tests__/utils/helpers.ts
  ● Test suite failed to run

    Your test suite must contain at least one test.

      at onResult (node_modules/@jest/core/build/TestScheduler.js:133:18)
      at node_modules/@jest/core/build/TestScheduler.js:254:19
      at node_modules/emittery/index.js:363:13
          at Array.map (<anonymous>)
      at Emittery.emit (node_modules/emittery/index.js:361:23)

FAIL src/lib/__tests__/canvas-engine.test.ts (60.275 s)
  ● CanvasEngine › Performance Optimizations › should throttle render updates for smooth performance

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      168 |
      169 |   describe('Performance Optimizations', () => {
    > 170 |     it('should throttle render updates for smooth performance', async () => {
          |     ^
      171 |       engine = new CanvasEngine(container)
      172 |       const renderSpy = jest.spyOn(engine.getCanvas(), 'renderAll')
      173 |       

      at it (src/lib/__tests__/canvas-engine.test.ts:170:5)
      at describe (src/lib/__tests__/canvas-engine.test.ts:169:3)
      at Object.describe (src/lib/__tests__/canvas-engine.test.ts:57:1)

  ● CanvasEngine › Smooth Interactions › should handle drag operations smoothly

    expect(received).not.toBe(expected) // Object.is equality

    Expected: not 100

      252 |       
      253 |       // Element should have moved smoothly
    > 254 |       expect(rect.left).not.toBe(100)
          |                             ^
      255 |       expect(rect.top).not.toBe(100)
      256 |     })
      257 |

      at Object.toBe (src/lib/__tests__/canvas-engine.test.ts:254:29)

  ● CanvasEngine › Smooth Interactions › should handle resize operations smoothly

    expect(received).toBeGreaterThan(expected)

    Expected: > 100
    Received:   100

      281 |       
      282 |       // Should resize smoothly
    > 283 |       expect(rect.getScaledWidth()).toBeGreaterThan(initialWidth)
          |                                     ^
      284 |       expect(rect.getScaledHeight()).toBeGreaterThan(initialHeight)
      285 |     })
      286 |

      at Object.toBeGreaterThan (src/lib/__tests__/canvas-engine.test.ts:283:37)

  ● CanvasEngine › Smooth Interactions › should debounce rapid create operations

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      285 |     })
      286 |
    > 287 |     it('should debounce rapid create operations', async () => {
          |     ^
      288 |       engine = new CanvasEngine(container)
      289 |       const canvas = engine.getCanvas()
      290 |       

      at it (src/lib/__tests__/canvas-engine.test.ts:287:5)
      at describe (src/lib/__tests__/canvas-engine.test.ts:214:3)
      at Object.describe (src/lib/__tests__/canvas-engine.test.ts:57:1)


Test Suites: 8 failed, 13 passed, 21 total
Tests:       46 failed, 296 passed, 342 total
Snapshots:   0 total
Time:        60.942 s, estimated 61 s
Ran all test suites.
